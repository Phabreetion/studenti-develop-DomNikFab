{"version":3,"sources":["webpack:///./src/app/pages/carriera/materiale-didattico/materiale-didattico.html","webpack:///./src/app/pages/carriera/materiale-didattico/materiale-didattico.module.ts","webpack:///./src/app/pages/carriera/materiale-didattico/materiale-didattico.scss","webpack:///./src/app/pages/carriera/materiale-didattico/materiale-didattico.ts"],"names":[],"mappings":"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","file":"pages-carriera-materiale-didattico-materiale-didattico-module.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-grid no-padding>\\n        <ion-row *ngIf=\\\"!globalData.landscape && globalData.iPhoneX\\\">\\n            <ion-col>\\n                <ion-label> </ion-label>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row no-padding>\\n            <ion-col no-padding>\\n                <ion-toolbar>\\n                    <ion-buttons slot=\\\"start\\\">\\n                        <ion-menu-button></ion-menu-button>\\n                    </ion-buttons>\\n                    <ion-title>\\n                        Materiale didattico\\n                    </ion-title>\\n                    <ion-buttons slot=\\\"end\\\">\\n                        <ion-back-button defaultHref=\\\"/carriera\\\" text=\\\"Indietro\\\"></ion-back-button>\\n                    </ion-buttons>\\n                </ion-toolbar>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <ion-grid *ngIf=\\\"rinvioAggiornamento && !files\\\" text-center>\\n        <ion-row>\\n            <ion-col>\\n                <img class=\\\"progress\\\" src=\\\"assets/img/progress.gif\\\" />\\n            </ion-col>\\n        </ion-row>\\n        <ion-row>\\n            <ion-col text-center>\\n                <ion-title><strong>Aggiornamento in corso</strong></ion-title>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row>\\n            <ion-col text-center>\\n                <ion-label>un attimo di pazienza</ion-label>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n\\n    <ion-list *ngIf=\\\"!rinvioAggiornamento && files?.length == 0\\\">\\n        <ion-item text-center>\\n            <ion-grid>\\n                <ion-row>\\n                    <ion-col>\\n                        <h2>Non è presente materiale per questo insegnamento</h2>\\n                    </ion-col>\\n                </ion-row>\\n                <ion-row>\\n                    <ion-col>\\n                        <img class=\\\"logo\\\" src=\\\"assets/img/sad.png\\\" />\\n                    </ion-col>\\n                </ion-row>\\n            </ion-grid>\\n        </ion-item>\\n    </ion-list>\\n\\n    <ion-list *ngIf=\\\"files?.length > 0\\\">\\n        <ion-item-sliding *ngFor=\\\"let file of files\\\" >\\n            <!-- (press)=\\\"onPress(item)\\\" -->\\n            <!-- <ion-item #item (click)=\\\"open(slidingItem,item)\\\" >  -->\\n            <ion-item (click)=\\\"info(file)\\\">\\n                <ion-grid fixed no-padding>\\n                    <ion-row>\\n                        <ion-col size=\\\"2\\\" align-self-center=\\\"true\\\">\\n                            <img src=\\\"assets/img/moodle/{{this.selezionaIcona(file)}}.png\\\" />\\n                        </ion-col>\\n                        <ion-col size=\\\"10\\\">\\n                            <ion-grid>\\n                                <ion-row>\\n                                    <ion-col>\\n                                        <div text-wrap>\\n                                            <b>{{file.FILENAME}}</b>\\n                                            <div *ngIf=\\\"file.scaricato == 1\\\"><ion-icon class=\\\"overlayClass\\\" name=\\\"checkmark-circle\\\"></ion-icon></div>\\n                                            <!--<div *ngIf=\\\"file.scaricato == 0\\\"><ion-icon class=\\\"overlayCheckmarkGrigio\\\" name=\\\"checkmark-circle\\\"></ion-icon></div>--> <!--MOD 12 LUG BUG 10-->\\n                                        </div>\\n                                    </ion-col>\\n                                </ion-row>\\n                                <ion-row>\\n                                    <ion-col>\\n                                        <ion-label text-wrap>\\n                                            <p [innerHtml]=\\\"troncaTesto(this.stripHTML(file.TESTO))\\\"></p>\\n                                        </ion-label>\\n                                    </ion-col>\\n                                </ion-row>\\n                            </ion-grid>\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n\\n            </ion-item>\\n            <!-- <ion-item-options side=\\\"right\\\" (click)=\\\"close(slidingItem)\\\"> -->\\n            <ion-item-options side=\\\"end\\\">\\n\\n                <ion-item-option color=\\\"primary\\\" (click)=\\\"apriFile(file)\\\">\\n                    <ion-icon name=\\\"easel\\\"></ion-icon>\\n                    Visualizza\\n                </ion-item-option>\\n                <!--\\n                <ion-item-option color=\\\"primary\\\" (click)=\\\"info(file)\\\">\\n                    <ion-icon name=\\\"information-circle\\\"></ion-icon>\\n                    Dettagli\\n                </ion-item-option>\\n                -->\\n                <ion-item-option color=\\\"danger\\\" (click)=\\\"eliminaFile(file)\\\">\\n                    <ion-icon name=\\\"trash\\\"></ion-icon>\\n                    Rimuovi\\n                </ion-item-option>\\n\\n                <!--\\n                <button *ngIf=\\\"file.scaricato == 1\\\" class=\\\"stileIconeFile\\\" ion-button color=\\\"danger\\\" (click)=\\\"eliminaFile(file)\\\">\\n                    <ion-icon style=\\\"padding:0;\\\" name=\\\"trash\\\"></ion-icon>\\n                    <!--Elimina-->\\n                <!--\\n                </button>\\n                <button *ngIf=\\\"file.scaricato == 0\\\" class=\\\"stileIconeFile\\\" ion-button color=\\\"primary\\\" (click)=\\\"download(file)\\\">\\n                    <ion-icon style=\\\"padding:0;\\\" name=\\\"md-download\\\" ></ion-icon>\\n                    <!--Download-->\\n                <!--\\n                </button>\\n                <button *ngIf=\\\"file.scaricato == 1\\\" class=\\\"stileIconeFile\\\" ion-button color=\\\"light\\\" (click)=\\\"apriFile(file, file.tipo_file)\\\">\\n                    <ion-icon style=\\\"padding:0;\\\" name=\\\"md-eye\\\" color=\\\"primary\\\"></ion-icon>\\n                    <!--<font color=\\\"dodgerblue\\\">Visualizza</font>-->\\n                <!--\\n                </button>\\n                -->\\n\\n            </ion-item-options>\\n        </ion-item-sliding>\\n\\n    </ion-list>\\n\\n</ion-content>\\n\\n<ion-footer  no-padding>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-spinner [hidden]=\\\"!isLoading() || !http.getConnected()\\\"></ion-spinner>\\n            <fa-icon [hidden]=\\\"isLoading() || !http.getConnected()\\\" [icon]=\\\"globalData.faLink\\\"></fa-icon>\\n            <fa-icon [hidden]=\\\"isLoading() || http.getConnected()\\\"  [icon]=\\\"globalData.faUnlink\\\"></fa-icon>\\n        </ion-buttons>\\n\\n        <div class=\\\"testo-footer\\\">\\n            Aggiornato al: {{dataAggiornamento}}\\n        </div>\\n\\n        <ion-buttons slot=\\\"end\\\" no-padding>\\n            <ion-icon slot=\\\"icon-only\\\" src=\\\"assets/icon/blank.png\\\"></ion-icon>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { MaterialeDidatticoPage } from './materiale-didattico';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        FontAwesomeModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: MaterialeDidatticoPage\n            }\n        ])\n    ],\n    declarations: [MaterialeDidatticoPage]\n})\nexport class MaterialeDidatticoPageModule {}\n","module.exports = \".ellipsis {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-height: 3.9em;\\n  line-height: 1.3em;\\n  text-overflow-mode: ellipsis;\\n  text-align: left;\\n  padding: 0px 3px;\\n  display: block; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbnRvbmlvX21hc3Ryb3Bhb2xvL0Rlc2t0b3AvbW9kaWZpY2hlQVBQL3N0dWRlbnRpLW1hc3Rlci9zcmMvYXBwL3BhZ2VzL2NhcnJpZXJhL21hdGVyaWFsZS1kaWRhdHRpY28vbWF0ZXJpYWxlLWRpZGF0dGljby5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQix1QkFBdUI7RUFDdkIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQiw0QkFBNEI7RUFDNUIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixjQUFjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYXJyaWVyYS9tYXRlcmlhbGUtZGlkYXR0aWNvL21hdGVyaWFsZS1kaWRhdHRpY28uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5lbGxpcHNpcyB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBtYXgtaGVpZ2h0OiAzLjllbTtcbiAgbGluZS1oZWlnaHQ6IDEuM2VtO1xuICB0ZXh0LW92ZXJmbG93LW1vZGU6IGVsbGlwc2lzO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBwYWRkaW5nOiAwcHggM3B4O1xuICBkaXNwbGF5OiBibG9jaztcbn0iXX0= */\"","import {Component, OnInit} from '@angular/core';\nimport {\n    ActionSheetController,\n    ModalController, NavController, ToastController\n} from '@ionic/angular';\nimport {SyncService} from '../../../services/sync.service';\nimport {GlobalDataService} from '../../../services/global-data.service';\nimport {DBService} from '../../../services/db-service';\nimport {ActivatedRoute} from '@angular/router';\nimport {AccountService} from '../../../services/account.service';\nimport {HttpService} from '../../../services/http.service';\n\n@Component({\n    selector: 'app-materiale-didattico',\n    templateUrl: 'materiale-didattico.html',\n    styleUrls: ['./materiale-didattico.scss'],\n\n})\n\nexport class MaterialeDidatticoPage implements OnInit {\n    currentPage = '/materiale-didattico';\n    idServizio = 18;\n    ad: string;\n    files: Array<any>;\n\n    pageloading = false;\n\n    loading: any;\n    dataAggiornamento: string;\n    aggiornamentoVerificato = false;\n    rinvioAggiornamento = false;\n    nrRinvii = 0;\n    maxNrRinvii = 5;\n\n    url: string;\n    // fileInfo:any;\n    // elencoFile:any;\n    // ultimoAggiornamento:any;\n    // aggiornamentoTmp:any;\n    //\n    // metodo = 'files';\n    //\n    // fileScaricati:any = [];\n    // showDoubleArrow = true;\n    noFile = false;\n    token: any;\n    IPServer: any;\n    iS: any;\n    i: any;\n    opened = false;\n    maxLength = 60; // Lunghezza massima del testo da visualizzare\n\n    constructor(\n        private toastCtrl: ToastController,\n        public route: ActivatedRoute,\n        public sync: SyncService,\n        public http: HttpService,\n        public globalData: GlobalDataService,\n        public modalCtrl: ModalController,\n        public actionSheetCtrl: ActionSheetController,\n        public localdb: DBService,\n        public account: AccountService) {\n    }\n\n    ngOnInit() {\n        this.account.controllaAccount().then(\n            (ok) => {\n                this.pageloading = true;\n                this.ad = this.route.snapshot.paramMap.get('id');\n                this.currentPage = '/materiale-didattico/' + this.ad;\n                // this.ad = this.navParams.get('ad');\n                this.http.checkConnection();\n                this.aggiorna(false, true);\n            }, (err) => {\n                this.globalData.goTo(this.currentPage, '/login', 'root', false);\n            }\n        );\n    }\n\n    // ngAfterContentInit() {\n    //     this.aggiorna(false, true);\n    // }\n\n    aggiorna(interattivo: boolean, sync: boolean) {\n\n        if (this.sync.loading[this.idServizio]) {\n            this.rinvioAggiornamento = true;\n            this.dataAggiornamento = 'in corso';\n            this.nrRinvii++;\n\n            // console.log('Rinvio ' + this.nrRinvii);\n\n            if (this.nrRinvii < this.maxNrRinvii) {\n                setTimeout(() => {\n                    this.aggiorna(interattivo, sync);\n                }, 2000);\n                return;\n            } else {\n                if (this.http.connessioneLenta) {\n                    this.toastCtrl.create({\n                        message: 'La connessione è assente o troppo lenta. Riprova ad aggiornare i dati più tardi.',\n                        duration: 3000,\n                        position: 'bottom'\n                    }).then( (toast) => {toast.present(); }, (toastErr) => { GlobalDataService.log(2, 'Toast fallito!', toastErr); });\n                }\n            }\n        }\n        this.rinvioAggiornamento = false;\n        this.nrRinvii = 0;\n\n        this.sync.getJson(this.idServizio, true).then(\n            (data) => {\n\n                this.pageloading = false;\n                const json = data[0];\n                const files = this.filtra(json, this.ad);\n                files.sort(function (a, b) {\n                    return a.FILENAME.localeCompare(b.FILENAME);\n                });\n\n                if ( this.sync.dataIsChanged(this.files, files) ) {\n                    //\n                    // if (JSON.stringify(this.files) !== JSON.stringify(files)) {\n                    this.files = files;\n                    setTimeout(() => {\n                        this.controllaAggiornamento();\n                    }, 1000);\n\n                    // console.dir(files)\n                    // console.dir(this.files);\n                }\n\n                this.dataAggiornamento = SyncService.dataAggiornamento(data);\n            },\n            (err) => {\n            }).catch(err => {\n                console.dir(err);\n            }\n        );\n    }\n\n    filtra(items, ad) {\n        return items.filter((item) => {\n            try {\n                // console.dir(item)\n                return (item.AD_ID.indexOf(ad) > -1);\n            } catch (err) {\n                console.dir(err);\n            }\n        });\n    }\n\n    controllaAggiornamento() {\n        // La verifica dell'aggiornamento in background la facciamo solo una volta\n        if (this.aggiornamentoVerificato) {\n            return;\n        }\n        // Se stiamo caricando dati dal server rimandiamo la verifica\n        if (this.sync.loading[this.idServizio]) {\n            setTimeout(() => {\n                this.controllaAggiornamento();\n            }, 1000);\n        } else {\n            this.aggiornamentoVerificato = true;\n            this.aggiorna(false, false);\n        }\n    }\n\n    isLoading() {\n        return this.sync.loading[this.idServizio];\n    }\n\n    doRefresh(refresher) {\n        if (refresher) {\n            refresher.target.complete();\n        }\n\n        this.aggiorna(true, true);\n    }\n\n    troncaTesto(testo: string) {\n        if (!testo) {\n            return '';\n        }\n        if (testo.length > this.maxLength) {\n            testo = testo.substring(0, this.maxLength - 1) + ' ...';\n        }\n        return testo;\n    }\n\n    stripHTML(html) {\n\n        // return html.replace(/<\\/?[^>]+>/gi, \"\");\n        let testo = html;\n        if (testo && typeof testo === 'string') {\n            // strip script/html tags\n            testo = testo.replace(/<script[^>]*>([\\S\\s]*?)<\\/script>/gmi, '');\n            testo = testo.replace(/&nbsp;*/gmi, '');\n            testo = testo.replace(/<\\/?\\w(?:[^\"'>]|\"[^\"]*\"|'[^']*')*>/gmi, '');\n            testo = testo.replace(/\\\\r\\\\n|\\\\r|\\\\n/g, '');\n        }\n\n        return testo;\n    }\n\n    info(item) {\n        // console.dir(item);\n        // this.modalCtrl.create({\n        //     component: AllegatoPage,\n        //     componentProps: { allegato : item }\n        // }).then(\n        //     (modal) => modal.present()\n        // );\n\n        this.globalData.allegato = item;\n        this.globalData.srcPage = '/materiale-didattico';\n        this.globalData.goTo('/materiale-didattico', '/allegato', 'forward', false);\n    }\n\n    download(item) {\n        this.localdb.download(item);\n    }\n\n    apriFile(item) {\n        this.localdb.apriFile(item);\n    }\n\n    eliminaFile(item) {\n        this.localdb.eliminaFile(item);\n    }\n\n\n    selezionaIcona(item) {\n        const estensione: string = item.ESTENSIONE.toLowerCase();\n        let nomeIcona = '';\n        switch (estensione) {\n            case 'pdf':\n                nomeIcona = 'pdf1';\n                break;\n            case 'zip':\n                nomeIcona = 'zip';\n                break;\n            case 'doc':\n                nomeIcona = 'doc';\n                break;\n            case 'docx':\n                nomeIcona = 'doc';\n                break;\n            case 'xls':\n                nomeIcona = 'xls';\n                break;\n            case 'xlsx':\n                nomeIcona = 'xls';\n                break;\n            case 'ppt':\n                nomeIcona = 'ppt';\n                break;\n            case 'pptx':\n                nomeIcona = 'ppt';\n                break;\n            default:\n                nomeIcona = 'file1';\n                break;\n        }\n\n        return nomeIcona;\n    }\n\n    onPress(item) {\n        // console.dir(item);\n\n        this.actionSheetCtrl.create({\n            header: item.DESCRIZIONE,\n            buttons: [\n                {\n                    text: 'Apri',\n                    icon: 'easel',\n                    handler: () => {\n                        this.apriFile(item);\n                    }\n                }, {\n                    text: 'Dettagli',\n                    icon: 'information-circle',\n                    handler: () => {\n                        this.info(item);\n                    }\n                }, {\n                    text: 'Rimuovi',\n                    icon: 'trash',\n                    handler: () => {\n                        this.eliminaFile(item);\n                    }\n                }, {\n                    text: 'Chiudi',\n                    icon: 'close',\n                    role: 'cancel',\n                    handler: () => {\n                        // console.log('Cancel clicked');\n                    }\n                }\n            ]\n        }).then(\n            (actionSheet) => actionSheet.present()\n        );\n    }\n}\n"],"sourceRoot":""}