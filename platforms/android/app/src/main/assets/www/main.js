(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/es5/build lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ namespace object ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./0owmtgfs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0owmtgfs.entry.js",
		"common",
		58
	],
	"./0owmtgfs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0owmtgfs.sc.entry.js",
		"common",
		59
	],
	"./0utrggve.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0utrggve.entry.js",
		"common",
		60
	],
	"./0utrggve.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/0utrggve.sc.entry.js",
		"common",
		61
	],
	"./1bo3p9bf.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1bo3p9bf.entry.js",
		"common",
		10
	],
	"./1bo3p9bf.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1bo3p9bf.sc.entry.js",
		"common",
		11
	],
	"./1z2sd9l6.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1z2sd9l6.entry.js",
		"common",
		12
	],
	"./1z2sd9l6.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/1z2sd9l6.sc.entry.js",
		"common",
		13
	],
	"./3hf0d5sl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/3hf0d5sl.entry.js",
		"common",
		62
	],
	"./3hf0d5sl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/3hf0d5sl.sc.entry.js",
		"common",
		63
	],
	"./47ctf96j.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/47ctf96j.entry.js",
		0,
		"common",
		132
	],
	"./47ctf96j.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/47ctf96j.sc.entry.js",
		0,
		"common",
		133
	],
	"./4jebvdzz.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4jebvdzz.entry.js",
		"common",
		14
	],
	"./4jebvdzz.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4jebvdzz.sc.entry.js",
		"common",
		15
	],
	"./4m739wpj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4m739wpj.entry.js",
		"common",
		64
	],
	"./4m739wpj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4m739wpj.sc.entry.js",
		"common",
		65
	],
	"./4ovfvgj2.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4ovfvgj2.entry.js",
		0,
		"common",
		134
	],
	"./4ovfvgj2.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/4ovfvgj2.sc.entry.js",
		0,
		"common",
		135
	],
	"./5ccusvgf.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ccusvgf.entry.js",
		"common",
		66
	],
	"./5ccusvgf.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/5ccusvgf.sc.entry.js",
		"common",
		67
	],
	"./6f4biktp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6f4biktp.entry.js",
		"common",
		68
	],
	"./6f4biktp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/6f4biktp.sc.entry.js",
		"common",
		69
	],
	"./8ldpeqpe.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8ldpeqpe.entry.js",
		"common",
		16
	],
	"./8ldpeqpe.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8ldpeqpe.sc.entry.js",
		"common",
		17
	],
	"./8q1e6dus.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8q1e6dus.entry.js",
		"common",
		18
	],
	"./8q1e6dus.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/8q1e6dus.sc.entry.js",
		"common",
		19
	],
	"./9rhd7ueu.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/9rhd7ueu.entry.js",
		0,
		"common",
		136
	],
	"./9rhd7ueu.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/9rhd7ueu.sc.entry.js",
		0,
		"common",
		137
	],
	"./9ynbzp83.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/9ynbzp83.entry.js",
		"common",
		20
	],
	"./9ynbzp83.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/9ynbzp83.sc.entry.js",
		"common",
		21
	],
	"./a4llz05d.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/a4llz05d.entry.js",
		"common",
		70
	],
	"./a4llz05d.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/a4llz05d.sc.entry.js",
		"common",
		71
	],
	"./afjpklm4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/afjpklm4.entry.js",
		"common",
		72
	],
	"./afjpklm4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/afjpklm4.sc.entry.js",
		"common",
		73
	],
	"./b2tc2xce.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/b2tc2xce.entry.js",
		0,
		"common",
		138
	],
	"./b2tc2xce.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/b2tc2xce.sc.entry.js",
		0,
		"common",
		139
	],
	"./c2kiol1t.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c2kiol1t.entry.js",
		"common",
		22
	],
	"./c2kiol1t.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/c2kiol1t.sc.entry.js",
		"common",
		23
	],
	"./ch8upsxn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ch8upsxn.entry.js",
		0,
		"common",
		114
	],
	"./ch8upsxn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ch8upsxn.sc.entry.js",
		0,
		"common",
		115
	],
	"./coytbtgb.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/coytbtgb.entry.js",
		"common",
		78
	],
	"./coytbtgb.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/coytbtgb.sc.entry.js",
		"common",
		79
	],
	"./cuwemyof.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cuwemyof.entry.js",
		"common",
		80
	],
	"./cuwemyof.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cuwemyof.sc.entry.js",
		"common",
		81
	],
	"./cyhnsxpk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cyhnsxpk.entry.js",
		0,
		"common",
		142
	],
	"./cyhnsxpk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/cyhnsxpk.sc.entry.js",
		0,
		"common",
		143
	],
	"./e9ulkkay.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/e9ulkkay.entry.js",
		144
	],
	"./e9ulkkay.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/e9ulkkay.sc.entry.js",
		145
	],
	"./fcbdrndu.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fcbdrndu.entry.js",
		"common",
		82
	],
	"./fcbdrndu.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fcbdrndu.sc.entry.js",
		"common",
		83
	],
	"./ffukzwt6.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ffukzwt6.entry.js",
		"common",
		122
	],
	"./ffukzwt6.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ffukzwt6.sc.entry.js",
		"common",
		123
	],
	"./fhznfhbd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fhznfhbd.entry.js",
		"common",
		24
	],
	"./fhznfhbd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fhznfhbd.sc.entry.js",
		"common",
		25
	],
	"./fiqi6app.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fiqi6app.entry.js",
		146
	],
	"./fiqi6app.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/fiqi6app.sc.entry.js",
		147
	],
	"./g0yheybk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/g0yheybk.entry.js",
		0,
		"common",
		148
	],
	"./g0yheybk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/g0yheybk.sc.entry.js",
		0,
		"common",
		149
	],
	"./gvyg1bwh.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gvyg1bwh.entry.js",
		"common",
		26
	],
	"./gvyg1bwh.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/gvyg1bwh.sc.entry.js",
		"common",
		27
	],
	"./i9lnulrx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/i9lnulrx.entry.js",
		"common",
		28
	],
	"./i9lnulrx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/i9lnulrx.sc.entry.js",
		"common",
		29
	],
	"./iz1p89vi.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/iz1p89vi.entry.js",
		2,
		"common",
		150
	],
	"./iz1p89vi.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/iz1p89vi.sc.entry.js",
		2,
		"common",
		151
	],
	"./jdcptvrs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdcptvrs.entry.js",
		"common",
		84
	],
	"./jdcptvrs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jdcptvrs.sc.entry.js",
		"common",
		85
	],
	"./jpkvsu5y.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.entry.js",
		"common",
		124
	],
	"./jpkvsu5y.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jpkvsu5y.sc.entry.js",
		"common",
		125
	],
	"./jtkjzkgg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jtkjzkgg.entry.js",
		"common",
		30
	],
	"./jtkjzkgg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jtkjzkgg.sc.entry.js",
		"common",
		31
	],
	"./jwqvpjte.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jwqvpjte.entry.js",
		"common",
		86
	],
	"./jwqvpjte.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jwqvpjte.sc.entry.js",
		"common",
		87
	],
	"./jyrjuxdj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jyrjuxdj.entry.js",
		"common",
		32
	],
	"./jyrjuxdj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/jyrjuxdj.sc.entry.js",
		"common",
		33
	],
	"./kw6qlege.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/kw6qlege.entry.js",
		"common",
		74
	],
	"./kw6qlege.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/kw6qlege.sc.entry.js",
		"common",
		75
	],
	"./l22q7ddp.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/l22q7ddp.entry.js",
		"common",
		126
	],
	"./l22q7ddp.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/l22q7ddp.sc.entry.js",
		"common",
		127
	],
	"./lqvrsauo.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/lqvrsauo.entry.js",
		"common",
		88
	],
	"./lqvrsauo.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/lqvrsauo.sc.entry.js",
		"common",
		89
	],
	"./ly8zbpmk.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ly8zbpmk.entry.js",
		"common",
		34
	],
	"./ly8zbpmk.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ly8zbpmk.sc.entry.js",
		"common",
		35
	],
	"./mny78lhg.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/mny78lhg.entry.js",
		0,
		"common",
		152
	],
	"./mny78lhg.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/mny78lhg.sc.entry.js",
		0,
		"common",
		153
	],
	"./n361sgpa.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/n361sgpa.entry.js",
		"common",
		36
	],
	"./n361sgpa.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/n361sgpa.sc.entry.js",
		"common",
		37
	],
	"./nr6wcehx.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nr6wcehx.entry.js",
		"common",
		38
	],
	"./nr6wcehx.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nr6wcehx.sc.entry.js",
		"common",
		39
	],
	"./ntxo2f3d.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ntxo2f3d.entry.js",
		"common",
		40
	],
	"./ntxo2f3d.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ntxo2f3d.sc.entry.js",
		"common",
		41
	],
	"./nxacca4l.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nxacca4l.entry.js",
		0,
		"common",
		154
	],
	"./nxacca4l.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nxacca4l.sc.entry.js",
		0,
		"common",
		155
	],
	"./nxghvzhm.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nxghvzhm.entry.js",
		"common",
		42
	],
	"./nxghvzhm.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/nxghvzhm.sc.entry.js",
		"common",
		43
	],
	"./oboc8zd4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oboc8zd4.entry.js",
		"common",
		90
	],
	"./oboc8zd4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/oboc8zd4.sc.entry.js",
		"common",
		91
	],
	"./odqmlmdd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/odqmlmdd.entry.js",
		"common",
		44
	],
	"./odqmlmdd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/odqmlmdd.sc.entry.js",
		"common",
		45
	],
	"./psxwmesv.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/psxwmesv.entry.js",
		0,
		"common",
		156
	],
	"./psxwmesv.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/psxwmesv.sc.entry.js",
		0,
		"common",
		157
	],
	"./qtcvseqn.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qtcvseqn.entry.js",
		0,
		"common",
		158
	],
	"./qtcvseqn.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qtcvseqn.sc.entry.js",
		0,
		"common",
		159
	],
	"./qvwswew4.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qvwswew4.entry.js",
		"common",
		116
	],
	"./qvwswew4.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/qvwswew4.sc.entry.js",
		"common",
		117
	],
	"./raunowwy.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/raunowwy.entry.js",
		"common",
		92
	],
	"./raunowwy.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/raunowwy.sc.entry.js",
		"common",
		93
	],
	"./s347396r.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/s347396r.entry.js",
		"common",
		46
	],
	"./s347396r.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/s347396r.sc.entry.js",
		"common",
		47
	],
	"./sdfyvdro.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sdfyvdro.entry.js",
		"common",
		94
	],
	"./sdfyvdro.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sdfyvdro.sc.entry.js",
		"common",
		95
	],
	"./sghmhl28.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sghmhl28.entry.js",
		"common",
		48
	],
	"./sghmhl28.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sghmhl28.sc.entry.js",
		"common",
		49
	],
	"./sjcqnbtt.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sjcqnbtt.entry.js",
		"common",
		96
	],
	"./sjcqnbtt.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/sjcqnbtt.sc.entry.js",
		"common",
		97
	],
	"./t547wlk7.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/t547wlk7.entry.js",
		"common",
		118
	],
	"./t547wlk7.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/t547wlk7.sc.entry.js",
		"common",
		119
	],
	"./ta1bgxgm.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ta1bgxgm.entry.js",
		"common",
		98
	],
	"./ta1bgxgm.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ta1bgxgm.sc.entry.js",
		"common",
		99
	],
	"./tui62q7d.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tui62q7d.entry.js",
		"common",
		100
	],
	"./tui62q7d.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tui62q7d.sc.entry.js",
		"common",
		101
	],
	"./tylmm2yl.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tylmm2yl.entry.js",
		"common",
		102
	],
	"./tylmm2yl.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/tylmm2yl.sc.entry.js",
		"common",
		103
	],
	"./uegz8gm3.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uegz8gm3.entry.js",
		"common",
		104
	],
	"./uegz8gm3.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uegz8gm3.sc.entry.js",
		"common",
		105
	],
	"./uyartgdr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uyartgdr.entry.js",
		0,
		"common",
		160
	],
	"./uyartgdr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/uyartgdr.sc.entry.js",
		0,
		"common",
		161
	],
	"./vbuvdxh8.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vbuvdxh8.entry.js",
		2,
		"common",
		162
	],
	"./vbuvdxh8.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vbuvdxh8.sc.entry.js",
		2,
		"common",
		163
	],
	"./vjeei8vr.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vjeei8vr.entry.js",
		"common",
		76
	],
	"./vjeei8vr.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/vjeei8vr.sc.entry.js",
		"common",
		77
	],
	"./wy4rjeqs.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wy4rjeqs.entry.js",
		0,
		"common",
		120
	],
	"./wy4rjeqs.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/wy4rjeqs.sc.entry.js",
		0,
		"common",
		121
	],
	"./xbafxwto.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xbafxwto.entry.js",
		0,
		"common",
		164
	],
	"./xbafxwto.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xbafxwto.sc.entry.js",
		0,
		"common",
		165
	],
	"./xfbndl84.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xfbndl84.entry.js",
		"common",
		50
	],
	"./xfbndl84.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xfbndl84.sc.entry.js",
		"common",
		51
	],
	"./xgnma4yj.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xgnma4yj.entry.js",
		"common",
		106
	],
	"./xgnma4yj.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xgnma4yj.sc.entry.js",
		"common",
		107
	],
	"./xrxaow8a.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xrxaow8a.entry.js",
		"common",
		108
	],
	"./xrxaow8a.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/xrxaow8a.sc.entry.js",
		"common",
		109
	],
	"./ycyyhg01.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ycyyhg01.entry.js",
		"common",
		110
	],
	"./ycyyhg01.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ycyyhg01.sc.entry.js",
		"common",
		111
	],
	"./ygh0szo0.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ygh0szo0.entry.js",
		"common",
		52
	],
	"./ygh0szo0.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/ygh0szo0.sc.entry.js",
		"common",
		53
	],
	"./yl6smbo0.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yl6smbo0.entry.js",
		"common",
		128
	],
	"./yl6smbo0.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/yl6smbo0.sc.entry.js",
		"common",
		129
	],
	"./z9eemkqi.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9eemkqi.entry.js",
		"common",
		54
	],
	"./z9eemkqi.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9eemkqi.sc.entry.js",
		"common",
		55
	],
	"./z9nt6ntd.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9nt6ntd.entry.js",
		"common",
		130
	],
	"./z9nt6ntd.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/z9nt6ntd.sc.entry.js",
		"common",
		131
	],
	"./zktscnoo.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zktscnoo.entry.js",
		"common",
		112
	],
	"./zktscnoo.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zktscnoo.sc.entry.js",
		"common",
		113
	],
	"./zykaqnfi.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zykaqnfi.entry.js",
		"common",
		56
	],
	"./zykaqnfi.sc.entry.js": [
		"./node_modules/@ionic/core/dist/esm/es5/build/zykaqnfi.sc.entry.js",
		"common",
		57
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm/es5/build lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../libretto/libretto.module": [
		"./src/app/pages/carriera/libretto/libretto.module.ts",
		"default~libretto-libretto-module~pages-carriera-tabs-carriera-carriera-module",
		"common"
	],
	"../lista-esami/lista-esami.module": [
		"./src/app/pages/carriera/lista-esami/lista-esami.module.ts",
		"default~lista-esami-lista-esami-module~pages-carriera-tabs-carriera-carriera-module",
		"common"
	],
	"../piano-di-studi/piano-di-studi.module": [
		"./src/app/pages/carriera/piano-di-studi/piano-di-studi.module.ts",
		"default~pages-carriera-tabs-carriera-carriera-module~piano-di-studi-piano-di-studi-module",
		"common"
	],
	"./pages/account/accounts/accounts.module": [
		"./src/app/pages/account/accounts/accounts.module.ts",
		"pages-account-accounts-accounts-module"
	],
	"./pages/account/disconnetti/disconnetti.module": [
		"./src/app/pages/account/disconnetti/disconnetti.module.ts",
		"pages-account-disconnetti-disconnetti-module"
	],
	"./pages/account/lock/lock.module": [
		"./src/app/pages/account/lock/lock.module.ts",
		"pages-account-lock-lock-module"
	],
	"./pages/account/login/carriere/carriere.module": [
		"./src/app/pages/account/login/carriere/carriere.module.ts",
		"common",
		"pages-account-login-carriere-carriere-module"
	],
	"./pages/account/login/login.module": [
		"./src/app/pages/account/login/login.module.ts",
		"common",
		"pages-account-login-login-module"
	],
	"./pages/account/tutorial/tutorial.module": [
		"./src/app/pages/account/tutorial/tutorial.module.ts",
		"pages-account-tutorial-tutorial-module"
	],
	"./pages/carriera/appelli/appelli.module": [
		"./src/app/pages/carriera/appelli/appelli.module.ts",
		"common",
		"pages-carriera-appelli-appelli-module"
	],
	"./pages/carriera/esame/esame.module": [
		"./src/app/pages/carriera/esame/esame.module.ts"
	],
	"./pages/carriera/libretto/libretto.module": [
		"./src/app/pages/carriera/libretto/libretto.module.ts",
		"default~libretto-libretto-module~pages-carriera-tabs-carriera-carriera-module",
		"common"
	],
	"./pages/carriera/materiale-didattico/allegato/allegato.module": [
		"./src/app/pages/carriera/materiale-didattico/allegato/allegato.module.ts",
		"pages-carriera-materiale-didattico-allegato-allegato-module"
	],
	"./pages/carriera/materiale-didattico/materiale-didattico.module": [
		"./src/app/pages/carriera/materiale-didattico/materiale-didattico.module.ts",
		"pages-carriera-materiale-didattico-materiale-didattico-module"
	],
	"./pages/carriera/medie/medie.module": [
		"./src/app/pages/carriera/medie/medie.module.ts",
		"pages-carriera-medie-medie-module"
	],
	"./pages/carriera/storico-esami/storico-esami.module": [
		"./src/app/pages/carriera/storico-esami/storico-esami.module.ts",
		"pages-carriera-storico-esami-storico-esami-module"
	],
	"./pages/carriera/tabs-carriera/carriera.module": [
		"./src/app/pages/carriera/tabs-carriera/carriera.module.ts",
		"default~pages-carriera-tabs-carriera-carriera-module~piano-di-studi-piano-di-studi-module",
		"default~libretto-libretto-module~pages-carriera-tabs-carriera-carriera-module",
		"default~lista-esami-lista-esami-module~pages-carriera-tabs-carriera-carriera-module",
		"common",
		"pages-carriera-tabs-carriera-carriera-module"
	],
	"./pages/home/dettagli-utente/dettagli-utente.module": [
		"./src/app/pages/home/dettagli-utente/dettagli-utente.module.ts"
	],
	"./pages/home/home.module": [
		"./src/app/pages/home/home.module.ts",
		"pages-home-home-module"
	],
	"./pages/news/news.module": [
		"./src/app/pages/news/news.module.ts",
		"pages-news-news-module"
	],
	"./pages/news/notizia/notizia.module": [
		"./src/app/pages/news/notizia/notizia.module.ts"
	],
	"./pages/notifiche/notifiche.module": [
		"./src/app/pages/notifiche/notifiche.module.ts",
		"pages-notifiche-notifiche-module"
	],
	"./pages/preferenze/preferenze.module": [
		"./src/app/pages/preferenze/preferenze.module.ts",
		"pages-preferenze-preferenze-module"
	],
	"./pages/servizi/calendario/calendario.module": [
		"./src/app/pages/servizi/calendario/calendario.module.ts",
		"pages-servizi-calendario-calendario-module"
	],
	"./pages/servizi/questionari/questionari.module": [
		"./src/app/pages/servizi/questionari/questionari.module.ts",
		"pages-servizi-questionari-questionari-module"
	],
	"./pages/servizi/rubrica/contatto/contatto.module": [
		"./src/app/pages/servizi/rubrica/contatto/contatto.module.ts",
		"pages-servizi-rubrica-contatto-contatto-module"
	],
	"./pages/servizi/rubrica/rubrica.module": [
		"./src/app/pages/servizi/rubrica/rubrica.module.ts",
		"pages-servizi-rubrica-rubrica-module"
	],
	"./pages/servizi/servizi-online/servizi-online.module": [
		"./src/app/pages/servizi/servizi-online/servizi-online.module.ts",
		"common",
		"pages-servizi-servizi-online-servizi-online-module"
	],
	"./pages/servizi/tasse/tasse.module": [
		"./src/app/pages/servizi/tasse/tasse.module.ts",
		"pages-servizi-tasse-tasse-module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		var id = ids[0];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var routes = [
    { path: '', redirectTo: 'home', pathMatch: 'full' },
    { path: 'home', loadChildren: './pages/home/home.module#HomePageModule' },
    { path: 'accounts', loadChildren: './pages/account/accounts/accounts.module#AccountsPageModule' },
    { path: 'allegato', loadChildren: './pages/carriera/materiale-didattico/allegato/allegato.module#AllegatoPageModule' },
    { path: 'appelli', loadChildren: './pages/carriera/appelli/appelli.module#AppelliPageModule' },
    { path: 'appelli/:id', loadChildren: './pages/carriera/appelli/appelli.module#AppelliPageModule' },
    { path: 'calendario', loadChildren: './pages/servizi/calendario/calendario.module#CalendarioPageModule' },
    { path: 'carriera', loadChildren: './pages/carriera/tabs-carriera/carriera.module#CarrieraPageModule' },
    { path: 'carriere', loadChildren: './pages/account/login/carriere/carriere.module#CarrierePageModule' },
    { path: 'contatto', loadChildren: './pages/servizi/rubrica/contatto/contatto.module#ContattoPageModule' },
    { path: 'dettagli-utente', loadChildren: './pages/home/dettagli-utente/dettagli-utente.module#DettagliUtentePageModule' },
    { path: 'disconnetti', loadChildren: './pages/account/disconnetti/disconnetti.module#DisconnettiPageModule' },
    { path: 'esame', loadChildren: './pages/carriera/esame/esame.module#EsamePageModule' },
    { path: 'libretto', loadChildren: './pages/carriera/libretto/libretto.module#LibrettoPageModule' },
    { path: 'lock', loadChildren: './pages/account/lock/lock.module#LockPageModule' },
    { path: 'login', loadChildren: './pages/account/login/login.module#LoginPageModule' },
    { path: 'materiale-didattico/:id',
        loadChildren: './pages/carriera/materiale-didattico/materiale-didattico.module#MaterialeDidatticoPageModule' },
    { path: 'medie', loadChildren: './pages/carriera/medie/medie.module#MediePageModule' },
    { path: 'news', loadChildren: './pages/news/news.module#NewsPageModule' },
    { path: 'notifiche', loadChildren: './pages/notifiche/notifiche.module#NotifichePageModule' },
    { path: 'notizia', loadChildren: './pages/news/notizia/notizia.module#NotiziaPageModule' },
    { path: 'preferenze', loadChildren: './pages/preferenze/preferenze.module#PreferenzePageModule' },
    { path: 'questionari', loadChildren: './pages/servizi/questionari/questionari.module#QuestionariPageModule' },
    { path: 'rubrica', loadChildren: './pages/servizi/rubrica/rubrica.module#RubricaPageModule' },
    { path: 'servizi-online', loadChildren: './pages/servizi/servizi-online/servizi-online.module#ServiziOnlinePageModule' },
    { path: 'storico-esami', loadChildren: './pages/carriera/storico-esami/storico-esami.module#StoricoEsamiPageModule' },
    { path: 'tasse', loadChildren: './pages/servizi/tasse/tasse.module#TassePageModule' },
    { path: 'tutorial', loadChildren: './pages/account/tutorial/tutorial.module#TutorialPageModule' }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-app>\n  <ion-split-pane>\n    <ion-menu [hidden]=\"!account.logged\">\n      <ion-header>\n        <ion-grid no-padding>\n          <ion-row *ngIf=\"!globalData.landscape && globalData.iPhoneX\">\n            <ion-col>\n              <ion-label> </ion-label>\n            </ion-col>\n          </ion-row>\n          <ion-row no-padding>\n            <ion-col no-padding>\n              <ion-toolbar>\n                <ion-title no-padding>Studenti Unimol</ion-title>\n              </ion-toolbar>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </ion-header>\n\n      <ion-content>\n        <ion-list>\n          <ion-menu-toggle auto-hide=\"false\" *ngFor=\"let p of appPages\">\n            <ion-item [routerDirection]=\"'root'\" [routerLink]=\"[p.url]\">\n              <ion-icon slot=\"start\" [name]=\"p.icon\"></ion-icon>\n              <ion-label>\n                {{p.title}}\n              </ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n        </ion-list>\n      </ion-content>\n    </ion-menu>\n    <ion-router-outlet main></ion-router-outlet>\n  </ion-split-pane>\n</ion-app>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/screen-orientation/ngx */ "./node_modules/@ionic-native/screen-orientation/ngx/index.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic-native/app-version/ngx */ "./node_modules/@ionic-native/app-version/ngx/index.js");
/* harmony import */ var _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/fcm/ngx */ "./node_modules/@ionic-native/fcm/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _services_sync_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./services/global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _services_db_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/db-service */ "./src/app/services/db-service.ts");
/* harmony import */ var _services_account_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/account.service */ "./src/app/services/account.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_native_toast_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/toast/ngx */ "./node_modules/@ionic-native/toast/ngx/index.js");
/* harmony import */ var _ionic_native_device_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/device/ngx */ "./node_modules/@ionic-native/device/ngx/index.js");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./services/http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

















// import {Push, PushObject, PushOptions} from '@ionic-native/push/ngx';
// import {Firebase} from '@ionic-native/firebase/ngx';
// import {FirebaseMessaging} from '@ionic-native/firebase-messaging/ngx';
// import {isCombinedNodeFlagSet} from 'tslint';
var AppComponent = /** @class */ (function () {
    function AppComponent(alertCtrl, actionSheetCtrl, toast, router, menu, appVersion, network, ngZone, platform, device, 
    // public push: Push,
    screenOrientation, splashScreen, statusBar, fcm, 
    // public firebase: Firebase,
    // private firebaseMessaging: FirebaseMessaging,
    storage, db, sync, http, globalData, account
    //    private firebaseMessaging: FirebaseMessaging,
    ) {
        this.alertCtrl = alertCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.toast = toast;
        this.router = router;
        this.menu = menu;
        this.appVersion = appVersion;
        this.network = network;
        this.ngZone = ngZone;
        this.platform = platform;
        this.device = device;
        this.screenOrientation = screenOrientation;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.fcm = fcm;
        this.storage = storage;
        this.db = db;
        this.sync = sync;
        this.http = http;
        this.globalData = globalData;
        this.account = account;
        this.mostraMenu = true;
        this.appPages = [
            {
                title: 'Home',
                url: '/home',
                icon: 'home'
            },
            {
                title: 'Carriera',
                url: '/carriera',
                icon: 'book'
            },
            {
                title: 'Appelli',
                url: '/appelli',
                icon: 'bookmark'
            },
            {
                title: 'Previsione Media',
                url: '/medie',
                icon: 'calculator'
            },
            {
                title: 'News',
                url: '/news',
                icon: 'information-circle'
            },
            // {
            //     title: 'Calendario',
            //     url: '/calendario',
            //     icon: 'calendar'
            // },
            {
                title: 'Notifiche',
                url: '/notifiche',
                icon: 'megaphone'
            },
            {
                title: 'Rubrica',
                url: '/rubrica',
                icon: 'contacts'
            },
            {
                title: 'Questionari',
                url: '/questionari',
                icon: 'create'
            },
            {
                title: 'Tasse',
                url: '/tasse',
                icon: 'pricetag'
            },
            {
                title: 'Servizi Online',
                url: '/servizi-online',
                icon: 'cog'
            },
            {
                title: 'Impostazioni',
                url: '/preferenze',
                icon: 'options'
            },
            {
                title: 'Blocca',
                url: '/lock',
                icon: 'lock'
            },
            {
                title: 'Disconnetti',
                url: '/disconnetti',
                icon: 'log-out'
            }
        ];
        // set up hardware back button event.
        this.lastTimeBackPress = 0;
        this.timePeriodToExit = 2000;
        this.initializeApp();
        this.backButtonEvent();
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.platform.ready().then(function () {
            if (_this.platform.is('android')) {
                _this.statusBar.styleLightContent();
                _this.globalData.android = true;
            }
            else {
                _this.globalData.android = false;
                _this.statusBar.styleDefault();
                if (_this.device.model.startsWith('iPhone11') || _this.device.isVirtual) {
                    _this.statusBar.overlaysWebView(true);
                    _this.globalData.iPhoneX = true;
                }
            }
            _this.splashScreen.hide();
            _this.globalData.landscape = false;
            _this.http.setHttpType();
            try {
                // console.log('Apro il db SQLite');
                _this.db.openDb();
            }
            catch (e) {
                _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'Errore nella creazione del db SQLite', e);
            }
            if (_this.screenOrientation.type.startsWith('landscape')) {
                _this.globalData.landscape = true;
            }
            _this.screenOrientation.onChange().subscribe(function () {
                _this.globalData.landscape = _this.screenOrientation.type.startsWith('landscape');
            });
            if (_this.platform.is('ios') || (_this.platform.is('android'))) {
                // this.statusBar.styleDefault();
                // this.splashScreen.hide();
                // if (this.platform.is('tablet')) {
                // } else {
                //     this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);
                // }
                _this.appVersion.getVersionNumber().then(function (appVersion) {
                    _this.storage.set('appVersion', appVersion);
                });
            }
            else {
                _this.storage.set('uuid', 'virtual');
                _this.storage.set('appVersion', '2.0.v');
            }
            // moment.locale('it');
            // let lastTimeBackPress = 0;
            // const timePeriodToExit = 2000;
            // // IONIC 4 registerBackButtonAction non c'è!
            // let lastTimeBackPress = 0;
            // const timePeriodToExit = 2000;
            //
            // this.platform.registerBackButtonAction(() => {
            //     // get current active page
            //     // TODO: questa soluzione non è ottimale, la versione commentata è invece funzionante,
            //     // ma non riporta alla Home in caso di sotto-pagine
            //     // Purtroppo, al momento, la generazione della versione ottimizzata (flag --prod)
            //     // minimizza il codice per cui il nome della pagina non corrisponde
            //     const view = this.nav.getActive();
            //     const componentName = view.component.toString();
            //     if (componentName.indexOf('idServizio=9') > -1) {
            //         // Double check to exit app
            //         if (new Date().getTime() - lastTimeBackPress < timePeriodToExit) {
            //             this.platform.exitApp(); // Exit from app
            //         } else {
            //             const toast = this.toastCtrl.create({
            //                 message: 'Premi di nuovo per uscire',
            //                 duration: 2000,
            //                 position: 'bottom'
            //             });
            //             toast.present();
            //             lastTimeBackPress = new Date().getTime();
            //         }
            //     } else {
            //         // go to previous page
            //         this.navCtrl.navigateRoot('/home');
            //     }
            //
            // });
            _this.http.checkConnection();
            // watch network for a disconnect
            _this.network.onDisconnect().subscribe(function () {
                console.log('Rilevata Disconnessione');
                _this.http.setConnected(false);
                // Forza l'aggiornamento del DOM
                // this.ngZone.run(() => {
                // });
            });
            // watch network for a connection
            _this.network.onConnect().subscribe(function () {
                console.log('Rilevata Connessione');
                _this.http.setConnected(true);
                // this.ngZone.run(() => {
                // });
            });
            _this.initPushNotification();
            // if (this.platform.is('ios')) {
            //     const actions: Array<ThreeDeeTouchQuickAction> = [
            //         {
            //             type: 'piano-di-studi',
            //             title: 'Check in',
            //             subtitle: 'Quickly check in',
            //             iconType: 'Compose'
            //         },
            //         {
            //             type: 'appelli',
            //             title: 'Share',
            //             subtitle: 'Share like you care',
            //             iconType: 'Share'
            //         },
            //         {
            //             type: 'rubrica',
            //             title: 'Search',
            //             iconType: 'Search'
            //         },
            //         {
            //             title: 'Show favorites',
            //             iconTemplate: 'HeartTemplate'
            //         }
            //     ];
            //     this.threeDeeTouch.configureQuickActions(actions);
            //     this.threeDeeTouch.onHomeIconPressed().subscribe(
            //         (payload) => {
            //             // returns an object that is the button you presed
            //             console.log('Pressed the ${payload.title} button')
            //             console.dir(payload);
            //             this.navCtrl.navigateForward(payload.type);
            //
            //         }, (err) => {
            //             console.dir(err);
            //         }, () => {
            //             console.log('Complete');
            //         }
            //     );
            // }
        }).catch(function (err) {
            console.log('Eccezione nel recupero delle notifiche: ' + err);
        });
    };
    AppComponent.prototype.initPushNotification = function () {
        var _this = this;
        if (this.platform.is('ios') || (this.platform.is('android'))) {
            /****
             *  PROVA PLUGIN PUSH
             */
            //
            //
            // // to check if we have permission
            // this.push.hasPermission()
            //     .then((res: any) => {
            //         console.dir(res);
            //
            //         if (res.isEnabled) {
            //             console.log('We have permission to send push notifications');
            //         } else {
            //             console.log('We do not have permission to send push notifications');
            //         }
            //
            //     });
            /*
        const options: PushOptions = {
            android: {},
            ios: {
                alert: 'true',
                badge: 'true',
                sound: 'true'
            },
            windows: {},
            browser: {
                pushServiceURL: 'http://push.api.phonegap.com/v1/push'
            }
        }

        const pushObject : PushObject = this.push.init(options);

        pushObject.subscribe('testbeta').then(
            (esito) => {
                GlobalDataService.log(2, '****** PUSH ****** Subscription OK', esito);
            }, (err) => {
                GlobalDataService.log(2, '****** PUSH ****** Subscription ERR', err);
            }
        );

        pushObject.on('notification').subscribe(
            (notification: any) => {
                console.log('****** PUSH ****** Received a notification', notification);
                this.mostraNotifica(notification);
            }, (err) => {
                GlobalDataService.log(2, '****** PUSH ****** Error receiving a notification', err);
            });

        pushObject.on('registration').subscribe(
            (registration: any) => {
                GlobalDataService.log(2, '****** PUSH ****** Device registered', registration);
            }, (err) => {
                GlobalDataService.log(2, '****** PUSH ****** Device NOT registered', err);
            });

        pushObject.on('error').subscribe(
            error => GlobalDataService.log(2, '****** PUSH ****** Error with Push plugin', error));

*/
            /***
             *  Plugin FCM per le notifiche push
             */
            try {
                this.fcm.getToken().then(function (token) {
                    // console.log('FCM GETTOKEN = ' + token);
                    if (token != null) {
                        _this.sync.aggiornaTokenNotifiche(token);
                    }
                }).catch(function (err) {
                    _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'FCM: Eccezione in getToken', err);
                });
                this.fcm.onNotification().subscribe(function (data) {
                    _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(1, 'FCM: ricevuta una notifica', data);
                    _this.mostraNotifica(data);
                    // if (data && data.wasTapped) {
                    //     // console.log('Received in background');
                    //     // Notifica con app in background
                    //     this.mostraNotifica(data);
                    // } else {
                    //     // Notifica con app in primo piano
                    //     this.mostraNotifica(data);
                    // }
                });
                this.fcm.onTokenRefresh().subscribe(function (token) {
                    // console.log('FCM TOKEN AGGIORNATO = ' + token);
                    if (token != null) {
                        _this.sync.aggiornaTokenNotifiche(token);
                    }
                });
                this.fcm.subscribeToTopic('testbeta').then(function (res) {
                    _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(1, 'Sottoscrizione a testbeta confermata', res);
                }, function (err) {
                    _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'Sottoscrizione a testbeta fallita', err);
                });
            }
            catch (e) {
                _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'FCM: Eccezione nell\'inizializzazione', e);
            }
        }
    };
    // Mostriamo la notifica tramite un alert
    AppComponent.prototype.mostraNotifica = function (data) {
        var _this = this;
        var dati;
        var titolo;
        var messaggio;
        try {
            dati = JSON.parse(data);
        }
        catch (e) {
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'JSON notifica non valido', e);
            dati = null;
        }
        if (dati) {
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(1, 'FCM: uso dati dal JSON', dati);
            titolo = dati.title;
            messaggio = decodeURIComponent(escape(dati.message));
        }
        else if (data.aps) {
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(1, 'FCM: uso data.aps.title', data.aps);
            titolo = data.aps.alert.title;
            messaggio = decodeURIComponent(escape(data.aps.alert.body));
        }
        else if (data.title) {
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(1, 'FCM: uso data.title', data);
            titolo = data.title;
            messaggio = decodeURIComponent(escape(data.body));
        }
        if (titolo) {
            this.alertCtrl.create({
                header: titolo,
                message: messaggio,
                buttons: [{
                        text: 'Chiudi',
                        role: 'cancel',
                        handler: function () {
                            switch (titolo) {
                                case 'News di Ateneo': {
                                    _this.globalData.sezioneNews = 'ateneo';
                                    _this.globalData.goTo(_this.globalData.srcPage, '/news', 'forward', false);
                                    break;
                                }
                                case 'News di Dipartimento': {
                                    _this.globalData.sezioneNews = 'dipartimento';
                                    _this.globalData.goTo(_this.globalData.srcPage, '/news', 'forward', false);
                                    break;
                                }
                                case 'News del Corso': {
                                    _this.globalData.sezioneNews = 'cds';
                                    _this.globalData.goTo(_this.globalData.srcPage, '/news', 'forward', false);
                                    break;
                                }
                                case 'Verbalizzazione esame': {
                                    _this.globalData.goTo(_this.globalData.srcPage, '/carriera', 'forward', false);
                                    break;
                                }
                            }
                        }
                    }]
            }).then(function (confirm) {
                confirm.present();
            }, function (err) {
                _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'Errore nella chiamata a confirm.present() ', err);
            }).catch(function (ex) {
                _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'Eccezione nella chiamata a confirm.present() ', ex);
            });
        }
        else {
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"].log(2, 'FCM: titolo non presente nella notifica', data);
        }
    };
    // active hardware back button
    AppComponent.prototype.backButtonEvent = function () {
        var _this = this;
        this.platform.backButton.subscribe(function () { return __awaiter(_this, void 0, void 0, function () {
            var element, error_1, element, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.actionSheetCtrl.getTop()];
                    case 1:
                        element = _a.sent();
                        if (element) {
                            element.dismiss();
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        return [3 /*break*/, 3];
                    case 3:
                        _a.trys.push([3, 5, , 6]);
                        return [4 /*yield*/, this.menu.getOpen()];
                    case 4:
                        element = _a.sent();
                        if (element !== null) {
                            this.menu.close();
                        }
                        return [3 /*break*/, 6];
                    case 5:
                        error_2 = _a.sent();
                        return [3 /*break*/, 6];
                    case 6:
                        if (this.router.url === '/home') {
                            if ((new Date().getTime() - this.lastTimeBackPress) < this.timePeriodToExit) {
                                // this.platform.exitApp(); // Exit from app
                                navigator['app'].exitApp(); // work for ionic 4
                            }
                            else {
                                this.toast.show('Premi ancora per uscire.', '2000', 'center')
                                    .subscribe(function () {
                                    // console.log(JSON.stringify(toast));
                                });
                                this.lastTimeBackPress = new Date().getTime();
                            }
                        }
                        else {
                            // this.toast.show(
                            //     this.router.url,
                            //     '2000',
                            //     'center')
                            //     .subscribe(() => {
                            //         // console.log(JSON.stringify(toast));
                            //     });
                            this.globalData.goTo('/home', '/home', 'root', false);
                            // console.log(this.router.url);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRouterOutlet"]),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], AppComponent.prototype, "routerOutlets", void 0);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ActionSheetController"],
            _ionic_native_toast_ngx__WEBPACK_IMPORTED_MODULE_14__["Toast"],
            _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["MenuController"],
            _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_6__["AppVersion"],
            _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_2__["Network"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_device_ngx__WEBPACK_IMPORTED_MODULE_15__["Device"],
            _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_3__["ScreenOrientation"],
            _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__["SplashScreen"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__["StatusBar"],
            _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_7__["FCM"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_8__["Storage"],
            _services_db_service__WEBPACK_IMPORTED_MODULE_11__["DBService"],
            _services_sync_service__WEBPACK_IMPORTED_MODULE_9__["SyncService"],
            _services_http_service__WEBPACK_IMPORTED_MODULE_16__["HttpService"],
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_10__["GlobalDataService"],
            _services_account_service__WEBPACK_IMPORTED_MODULE_12__["AccountService"]
            //    private firebaseMessaging: FirebaseMessaging,
        ])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _services_db_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/db-service */ "./src/app/services/db-service.ts");
/* harmony import */ var _services_sync_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic-native/android-permissions/ngx */ "./node_modules/@ionic-native/android-permissions/ngx/index.js");
/* harmony import */ var _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/app-version/ngx */ "./node_modules/@ionic-native/app-version/ngx/index.js");
/* harmony import */ var _ionic_native_device_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/device/ngx */ "./node_modules/@ionic-native/device/ngx/index.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/file-opener/ngx */ "./node_modules/@ionic-native/file-opener/ngx/index.js");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _ionic_native_fingerprint_aio_ngx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic-native/fingerprint-aio/ngx */ "./node_modules/@ionic-native/fingerprint-aio/ngx/index.js");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @ionic-native/in-app-browser/ngx */ "./node_modules/@ionic-native/in-app-browser/ngx/index.js");
/* harmony import */ var _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ionic-native/network/ngx */ "./node_modules/@ionic-native/network/ngx/index.js");
/* harmony import */ var _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ionic-native/screen-orientation/ngx */ "./node_modules/@ionic-native/screen-orientation/ngx/index.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _pages_news_notizia_notizia_module__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./pages/news/notizia/notizia.module */ "./src/app/pages/news/notizia/notizia.module.ts");
/* harmony import */ var _pages_home_dettagli_utente_dettagli_utente_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./pages/home/dettagli-utente/dettagli-utente.module */ "./src/app/pages/home/dettagli-utente/dettagli-utente.module.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @ionic-native/fcm/ngx */ "./node_modules/@ionic-native/fcm/ngx/index.js");
/* harmony import */ var _pages_carriera_esame_esame_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./pages/carriera/esame/esame.module */ "./src/app/pages/carriera/esame/esame.module.ts");
/* harmony import */ var _ionic_native_toast_ngx__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @ionic-native/toast/ngx */ "./node_modules/@ionic-native/toast/ngx/index.js");
/* harmony import */ var _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @fortawesome/angular-fontawesome */ "./node_modules/@fortawesome/angular-fontawesome/fesm5/angular-fontawesome.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







// import { BrowserAnimationsModule} from '@angular/platform-browser/animations';






// import { FCM } from '@ionic-native/fcm/ngx';




// import {FirebaseMessaging} from "@ionic-native/firebase-messaging/ngx";

// import { HttpModule} from '@angular/http';

// import {Market} from '@ionic-native/market';





// import { Transfer} from '@ionic-native/transfer';







// import {Push} from "@ionic-native/push/ngx";
// import {Firebase} from "@ionic-native/firebase/ngx";
// import 'hammerjs';
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]],
            entryComponents: [],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_26__["BrowserAnimationsModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"].forRoot(),
                _ionic_storage__WEBPACK_IMPORTED_MODULE_7__["IonicStorageModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_4__["AppRoutingModule"],
                _pages_home_dettagli_utente_dettagli_utente_module__WEBPACK_IMPORTED_MODULE_25__["DettagliUtentePageModule"],
                _pages_news_notizia_notizia_module__WEBPACK_IMPORTED_MODULE_24__["NotiziaPageModule"],
                _pages_carriera_esame_esame_module__WEBPACK_IMPORTED_MODULE_28__["EsamePageModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
                _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_30__["FontAwesomeModule"]
            ],
            providers: [
                _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_10__["AndroidPermissions"],
                _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_11__["AppVersion"],
                _services_db_service__WEBPACK_IMPORTED_MODULE_8__["DBService"],
                _ionic_native_device_ngx__WEBPACK_IMPORTED_MODULE_12__["Device"],
                _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_27__["FCM"],
                _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_13__["File"],
                _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_14__["FileOpener"],
                _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_15__["FileTransfer"],
                _ionic_native_fingerprint_aio_ngx__WEBPACK_IMPORTED_MODULE_16__["FingerprintAIO"],
                // FirebaseMessaging,
                // Firebase,
                _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_17__["HTTP"],
                // Http,
                // HttpModule,
                _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_18__["InAppBrowser"],
                // Market,
                _ionic_native_network_ngx__WEBPACK_IMPORTED_MODULE_19__["Network"],
                // Push,
                _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_20__["ScreenOrientation"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_21__["SplashScreen"],
                _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_22__["SQLite"],
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_23__["StatusBar"],
                _services_sync_service__WEBPACK_IMPORTED_MODULE_9__["SyncService"],
                _ionic_native_toast_ngx__WEBPACK_IMPORTED_MODULE_29__["Toast"],
                // Transfer,
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicRouteStrategy"] }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/pages/carriera/esame/esame.module.ts":
/*!******************************************************!*\
  !*** ./src/app/pages/carriera/esame/esame.module.ts ***!
  \******************************************************/
/*! exports provided: EsamePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EsamePageModule", function() { return EsamePageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _esame_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./esame.page */ "./src/app/pages/carriera/esame/esame.page.ts");
/* harmony import */ var _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @fortawesome/angular-fontawesome */ "./node_modules/@fortawesome/angular-fontawesome/fesm5/angular-fontawesome.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: '',
        component: _esame_page__WEBPACK_IMPORTED_MODULE_5__["EsamePage"]
    }
];
var EsamePageModule = /** @class */ (function () {
    function EsamePageModule() {
    }
    EsamePageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _fortawesome_angular_fontawesome__WEBPACK_IMPORTED_MODULE_6__["FontAwesomeModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_esame_page__WEBPACK_IMPORTED_MODULE_5__["EsamePage"]]
        })
    ], EsamePageModule);
    return EsamePageModule;
}());



/***/ }),

/***/ "./src/app/pages/carriera/esame/esame.page.html":
/*!******************************************************!*\
  !*** ./src/app/pages/carriera/esame/esame.page.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-grid no-padding>\n    <ion-row *ngIf=\"!globalData.landscape && globalData.iPhoneX\">\n      <ion-col>\n        <ion-label> </ion-label>\n      </ion-col>\n    </ion-row>\n    <ion-row no-padding>\n      <ion-col no-padding>\n        <ion-toolbar>\n          <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n          </ion-buttons>\n          <ion-title>\n            Dettaglio esame\n          </ion-title>\n          <ion-buttons slot=\"end\">\n            <ion-back-button *ngIf=\"srcPage\" defaultHref=\"{{srcPage}}\" text=\"Indietro\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n\n  <ion-card text-wrap *ngIf=\"esame\">\n\n    <ion-card-content>\n      <ion-grid>\n        <ion-row>\n          <ion-col>\n            Descrizione:\n          </ion-col>\n          <ion-col>\n            {{esame.DESCRIZIONE}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.COGNOME\">\n          <ion-col>\n            Docente titolare:\n          </ion-col>\n          <ion-col>\n            {{esame.NOME}} {{esame.COGNOME}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.COGNOME_NT\">\n          <ion-col>\n            Altri docenti:\n          </ion-col>\n          <ion-col>\n            {{esame.NOME_NT}} {{esame.COGNOME_NT}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.ANNO\">\n          <ion-col>\n            Anno:\n          </ion-col>\n          <ion-col>\n            {{esame.ANNO}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.CFU\">\n          <ion-col>\n            CFU:\n          </ion-col>\n          <ion-col>\n            {{esame.CFU}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.DATA_ESAME\">\n          <ion-col>\n            Data esame:\n          </ion-col>\n          <ion-col>\n            {{esame.DATA_ESAME}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.DATA_VERBALE\">\n          <ion-col>\n            Data verbale:\n          </ion-col>\n          <ion-col>\n            {{esame.DATA_VERBALE}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.VOTO\">\n          <ion-col>\n            Voto:\n          </ion-col>\n          <ion-col>\n            {{esame.VOTO}} <span *ngIf=\"esame.LODE == 1\">e lode</span>\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.GIUDIZIO\">\n          <ion-col>\n            Esito:\n          </ion-col>\n          <ion-col>\n            {{esame.GIUDIZIO}}\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.SOVRANNUMERARIA == 1 || esame.NO_MEDIA == 1\">\n          <ion-col>\n            <strong>Informazioni agguntive</strong>\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.SOVRANNUMERARIA == 1\">\n          <ion-col>\n            Esame in sovrannumero\n          </ion-col>\n        </ion-row>\n        <ion-row *ngIf=\"esame.NO_MEDIA == 1\">\n          <ion-col>\n            Questo esame non è incluso nel calcolo della media\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-card-content>\n\n\n  </ion-card>\n\n  <ion-card text-wrap *ngIf=\"!esame\">\n    <ion-card-header text-center text-wrap ng-bind-html=\"snippet\">\n      <ion-label color=\"primary\"><h1>Ops!</h1></ion-label>\n    </ion-card-header>\n    <ion-card-content>\n      <ion-label text-center text-wrap>\n        Si è verificato un problema durante l'accesso ai deti relativi all'esame.\n      </ion-label>\n      <ion-label text-center text-wrap>\n        Utilizza il tasto Back in alto per selezionare nuovamente l'elemento da visualizzare.\n      </ion-label>\n    </ion-card-content>\n  </ion-card>\n\n</ion-content>\n\n<ion-footer  no-padding>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <fa-icon [hidden]=\"!http.getConnected()\" [icon]=\"globalData.faLink\"></fa-icon>\n      <fa-icon [hidden]=\"http.getConnected()\"  [icon]=\"globalData.faUnlink\"></fa-icon>\n    </ion-buttons>\n    <div class=\"testo-footer\">\n    </div>\n    <ion-buttons slot=\"end\" no-padding>\n      <ion-icon slot=\"icon-only\" src=\"assets/icon/blank.png\"></ion-icon>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>"

/***/ }),

/***/ "./src/app/pages/carriera/esame/esame.page.scss":
/*!******************************************************!*\
  !*** ./src/app/pages/carriera/esame/esame.page.scss ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhcnJpZXJhL2VzYW1lL2VzYW1lLnBhZ2Uuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/pages/carriera/esame/esame.page.ts":
/*!****************************************************!*\
  !*** ./src/app/pages/carriera/esame/esame.page.ts ***!
  \****************************************************/
/*! exports provided: EsamePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EsamePage", function() { return EsamePage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_global_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var EsamePage = /** @class */ (function () {
    function EsamePage(globalData, http) {
        this.globalData = globalData;
        this.http = http;
    }
    EsamePage.prototype.ngOnInit = function () {
        this.srcPage = this.globalData.srcPage;
        this.esame = this.globalData.esame;
        this.http.getConnected();
    };
    EsamePage.prototype.onGoBack = function () {
        this.globalData.goTo(this.globalData.srcPage, this.globalData.srcPage, 'backward', false);
    };
    EsamePage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-esame',
            template: __webpack_require__(/*! ./esame.page.html */ "./src/app/pages/carriera/esame/esame.page.html"),
            styles: [__webpack_require__(/*! ./esame.page.scss */ "./src/app/pages/carriera/esame/esame.page.scss")]
        }),
        __metadata("design:paramtypes", [_services_global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"],
            _services_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"]])
    ], EsamePage);
    return EsamePage;
}());



/***/ }),

/***/ "./src/app/pages/home/dettagli-utente/dettagli-utente.html":
/*!*****************************************************************!*\
  !*** ./src/app/pages/home/dettagli-utente/dettagli-utente.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-grid no-padding>\n    <ion-row *ngIf=\"!globalData.landscape && globalData.iPhoneX\">\n      <ion-col>\n        <ion-label> </ion-label>\n      </ion-col>\n    </ion-row>\n    <ion-row no-padding>\n      <ion-col no-padding>\n        <ion-toolbar>\n          <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n          </ion-buttons>\n          <ion-title>\n            Dettagli Utente\n          </ion-title>\n          <ion-buttons slot=\"end\">\n            <ion-back-button defaultHref=\"/home\" text=\"Indietro\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content padding>\n  <ion-card>\n    <ion-card-content>\n      <ion-card-title>\n        {{ nome }} {{ cognome }}\n      </ion-card-title>\n      <p>\n        Username: <strong>{{ username }}</strong>\n      </p>\n      <p>\n        Matricola: <strong>{{ matricola }}</strong>\n      </p>\n      <p>\n        ID: <strong>{{ matId }}</strong>\n      </p>\n      <br>\n      <p>\n        Dipartimento: <strong>{{ dipId }}</strong>\n        <br><strong>{{ dipartimento }}</strong>\n      </p>\n      <br>\n      <p>\n        Corso di Studi: <strong>{{ cdsId }}</strong>\n        <br><strong>{{ cds }}</strong>\n      </p>\n    </ion-card-content>\n  </ion-card>\n  <ion-button expand=\"block\" (click)=\"onGoBack()\">Chiudi</ion-button>\n\n</ion-content>\n"

/***/ }),

/***/ "./src/app/pages/home/dettagli-utente/dettagli-utente.module.ts":
/*!**********************************************************************!*\
  !*** ./src/app/pages/home/dettagli-utente/dettagli-utente.module.ts ***!
  \**********************************************************************/
/*! exports provided: DettagliUtentePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DettagliUtentePageModule", function() { return DettagliUtentePageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _dettagli_utente__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dettagli-utente */ "./src/app/pages/home/dettagli-utente/dettagli-utente.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var DettagliUtentePageModule = /** @class */ (function () {
    function DettagliUtentePageModule() {
    }
    DettagliUtentePageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild([
                    {
                        path: '',
                        component: _dettagli_utente__WEBPACK_IMPORTED_MODULE_5__["DettagliUtentePage"]
                    }
                ])
            ],
            declarations: [_dettagli_utente__WEBPACK_IMPORTED_MODULE_5__["DettagliUtentePage"]]
        })
    ], DettagliUtentePageModule);
    return DettagliUtentePageModule;
}());



/***/ }),

/***/ "./src/app/pages/home/dettagli-utente/dettagli-utente.ts":
/*!***************************************************************!*\
  !*** ./src/app/pages/home/dettagli-utente/dettagli-utente.ts ***!
  \***************************************************************/
/*! exports provided: DettagliUtentePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DettagliUtentePage", function() { return DettagliUtentePage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _services_global_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/global-data.service */ "./src/app/services/global-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DettagliUtentePage = /** @class */ (function () {
    function DettagliUtentePage(modalCtrl, globalData, storage) {
        this.modalCtrl = modalCtrl;
        this.globalData = globalData;
        this.storage = storage;
        this.currentPage = '/dettagli-utente';
    }
    DettagliUtentePage.prototype.onGoBack = function () {
        this.globalData.goTo(this.currentPage, '/home', 'back', false);
    };
    DettagliUtentePage.prototype.ngOnInit = function () {
        var _this = this;
        var username = this.storage.get('username');
        var nome = this.storage.get('nome');
        var cognome = this.storage.get('cognome');
        var matricola = this.storage.get('matricola');
        var token = this.storage.get('token');
        var cds = this.storage.get('nome_cds');
        var cdsId = this.storage.get('cdsID');
        var dipartimento = this.storage.get('nome_dip');
        var dipId = this.storage.get('dipID');
        var matId = this.storage.get('matid');
        Promise.all([username, nome, cognome, matricola, token, cds, dipartimento, matId, cdsId, dipId]).then(function (data) {
            _this.username = data[0];
            _this.nome = data[1];
            _this.cognome = data[2];
            _this.matricola = data[3];
            _this.token = data[4];
            _this.cds = data[5];
            _this.dipartimento = data[6];
            _this.matId = data[7];
            _this.cdsId = data[8];
            _this.dipId = data[9];
            if (!_this.token) {
                _this.modalCtrl.dismiss();
                _this.globalData.goTo(_this.currentPage, '/login', 'root', false);
            }
        });
    };
    DettagliUtentePage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-page-dettagli-utente',
            template: __webpack_require__(/*! ./dettagli-utente.html */ "./src/app/pages/home/dettagli-utente/dettagli-utente.html"),
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_3__["GlobalDataService"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"]])
    ], DettagliUtentePage);
    return DettagliUtentePage;
}());



/***/ }),

/***/ "./src/app/pages/news/notizia/notizia.html":
/*!*************************************************!*\
  !*** ./src/app/pages/news/notizia/notizia.html ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<ion-header>\n  <ion-grid no-padding>\n    <ion-row *ngIf=\"!globalData.landscape && globalData.iPhoneX\">\n      <ion-col>\n        <ion-label> </ion-label>\n      </ion-col>\n    </ion-row>\n    <ion-row no-padding>\n      <ion-col no-padding>\n        <ion-toolbar>\n          <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n          </ion-buttons>\n          <ion-title>\n            Notizia\n          </ion-title>\n          <ion-buttons slot=\"end\">\n            <ion-back-button defaultHref=\"/news\" text=\"Indietro\"></ion-back-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n\n  <ion-card text-wrap *ngIf=\"notizia\">\n\n    <ion-card-subtitle text-center>\n      {{formatStringDate(notizia.data)}}\n    </ion-card-subtitle>\n\n    <ion-card-header text-wrap ng-bind-html=\"snippet\">\n      <b>{{this.pulisciNews(notizia.messaggio)}}</b>\n    </ion-card-header>\n\n    <ion-card-content text-wrap *ngIf=\"notizia.contenuto\">\n      <p [innerHtml]=\"this.pulisciNews(notizia.contenuto)\"></p>\n    </ion-card-content>\n\n    <ion-card-content *ngIf=\"!notizia.contenuto\">\n      <ion-label text-wrap>\n        News completa disponibile sul portale\n      </ion-label>\n    </ion-card-content>\n\n    <ion-item>\n      <ion-icon name='share-alt' item-start style=\"color: #266acb\"></ion-icon>\n      <ion-label (click)=\"openWithSystemBrowser()\">Vai alla notizia sul Portale</ion-label>\n    </ion-item>\n\n  </ion-card>\n\n  <ion-card text-wrap *ngIf=\"!notizia\">\n    <ion-card-header text-center text-wrap ng-bind-html=\"snippet\">\n      <ion-label color=\"primary\"><h1>Ops!</h1></ion-label>\n    </ion-card-header>\n    <ion-card-content>\n      <ion-label text-center text-wrap>\n        Si è verificato un problema durante l'accesso all'archivio notizie.\n      </ion-label>\n      <ion-label text-center text-wrap>\n        Utilizza il tasto Back in alto per selezionare nuovamente l'elemento da visualizzare.\n      </ion-label>\n    </ion-card-content>\n  </ion-card>\n\n</ion-content>\n"

/***/ }),

/***/ "./src/app/pages/news/notizia/notizia.module.ts":
/*!******************************************************!*\
  !*** ./src/app/pages/news/notizia/notizia.module.ts ***!
  \******************************************************/
/*! exports provided: NotiziaPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotiziaPageModule", function() { return NotiziaPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _notizia__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./notizia */ "./src/app/pages/news/notizia/notizia.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var NotiziaPageModule = /** @class */ (function () {
    function NotiziaPageModule() {
    }
    NotiziaPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"].forChild([
                    {
                        path: '',
                        component: _notizia__WEBPACK_IMPORTED_MODULE_5__["NotiziaPage"]
                    }
                ])
            ],
            declarations: [_notizia__WEBPACK_IMPORTED_MODULE_5__["NotiziaPage"]]
        })
    ], NotiziaPageModule);
    return NotiziaPageModule;
}());



/***/ }),

/***/ "./src/app/pages/news/notizia/notizia.ts":
/*!***********************************************!*\
  !*** ./src/app/pages/news/notizia/notizia.ts ***!
  \***********************************************/
/*! exports provided: NotiziaPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotiziaPage", function() { return NotiziaPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic-native/in-app-browser/ngx */ "./node_modules/@ionic-native/in-app-browser/ngx/index.js");
/* harmony import */ var _services_global_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NotiziaPage = /** @class */ (function () {
    function NotiziaPage(inAppBrowser, http, globalData) {
        this.inAppBrowser = inAppBrowser;
        this.http = http;
        this.globalData = globalData;
        this.currentPage = '/notizia';
        this.options = {
            location: 'yes',
            hidden: 'no',
            clearcache: 'yes',
            clearsessioncache: 'yes',
            zoom: 'yes',
            hardwareback: 'yes',
            mediaPlaybackRequiresUserAction: 'no',
            shouldPauseOnSuspend: 'no',
            closebuttoncaption: 'Close',
            disallowoverscroll: 'no',
            toolbar: 'yes',
            enableViewportScale: 'no',
            allowInlineMediaPlayback: 'no',
            presentationstyle: 'pagesheet',
            fullscreen: 'yes',
        };
    }
    NotiziaPage.prototype.ngOnInit = function () {
        this.notizia = this.globalData.notizia;
        this.http.getConnected();
        // if (this.notizia.contenuto == '')
        //   this.notizia.contenuto = this.notizia.descrizione;
    };
    NotiziaPage.prototype.onGoBack = function () {
        this.globalData.goTo(this.currentPage, this.globalData.srcPage, 'backward', false);
    };
    NotiziaPage.prototype.formatStringDate = function (stringDate) {
        if (this.notizia.notifica) {
            return this.notizia.data;
        }
        else {
            return _services_global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].formatStringDate(stringDate);
        }
    };
    NotiziaPage.prototype.ionViewDidLoad = function () {
        this.notizia = this.globalData.notizia;
        this.http.getConnected();
    };
    NotiziaPage.prototype.openWithSystemBrowser = function () {
        var target = '_system';
        this.browser = this.inAppBrowser.create(this.notizia.link, target, this.options);
    };
    NotiziaPage.prototype.openWithInAppBrowser = function () {
        var target = '_blank';
        this.browser = this.inAppBrowser.create(this.notizia.link, target, this.options);
    };
    NotiziaPage.prototype.openWithCordovaBrowser = function () {
        var target = '_self';
        this.browser = this.inAppBrowser.create(this.notizia.link, target, this.options);
    };
    NotiziaPage.prototype.pulisciNews = function (newsItem) {
        if (newsItem) {
            return newsItem.replace(/\\r\\n|\\r|\\n/g, '<br>');
        }
        else {
            return '';
        }
    };
    NotiziaPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-page-notizia',
            template: __webpack_require__(/*! ./notizia.html */ "./src/app/pages/news/notizia/notizia.html")
        }),
        __metadata("design:paramtypes", [_ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_1__["InAppBrowser"],
            _services_http_service__WEBPACK_IMPORTED_MODULE_3__["HttpService"],
            _services_global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"]])
    ], NotiziaPage);
    return NotiziaPage;
}());



/***/ }),

/***/ "./src/app/services/account.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/account.service.ts ***!
  \*********************************************/
/*! exports provided: AccountService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountService", function() { return AccountService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _global_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var ts_md5__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ts-md5 */ "./node_modules/ts-md5/dist/md5.js");
/* harmony import */ var ts_md5__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ts_md5__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _notifiche_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./notifiche.service */ "./src/app/services/notifiche.service.ts");
/* harmony import */ var _sync_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sync.service */ "./src/app/services/sync.service.ts");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AccountService = /** @class */ (function () {
    function AccountService(storage, services, toastCtrl, loadingCtrl, sync, globalData, notificheService) {
        this.storage = storage;
        this.services = services;
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.sync = sync;
        this.globalData = globalData;
        this.notificheService = notificheService;
        this.baseurl = this.sync.baseurl;
        this.urlRegistra = this.baseurl + 'registra.php';
        this.urlDisconnetti = this.baseurl + 'disconnetti.php';
    }
    AccountService.prototype.getUrlDisconnetti = function () {
        return this.urlDisconnetti;
    };
    AccountService.prototype.getUrlRegistra = function () {
        return this.urlRegistra;
    };
    AccountService.prototype.controllaAccount = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.storage.get('logged').then(function (logged) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'Logged', logged);
                _this.logged = logged;
                if (logged) {
                    resolve(_this.logged);
                }
                else {
                    reject(_this.logged);
                }
            }, function (err) {
                _this.logged = false;
                // Forse sarebbe meglio verificare se esiste il tokene ed eventualmente aggiornare tutto
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'logged non presente in storage', err);
                reject(_this.logged);
            });
        });
    };
    AccountService.prototype.salvaDatiLogin = function (username, password, tokenNotifiche, carriera) {
        var _this = this;
        var userRole = carriera['user_role'];
        // this.globalData.userRole = userRole;
        var promiseLogged = this.storage.set('logged', true);
        var nome = _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].toTitleCase(carriera['nome']);
        var cognome = _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].toTitleCase(carriera['cognome']);
        var promiseTokenNotifiche = this.storage.set('tokenNotifiche', tokenNotifiche);
        var promiseUsername = this.storage.set('username', username);
        var promisePassword = this.storage.set('password', ts_md5__WEBPACK_IMPORTED_MODULE_2__["Md5"].hashStr(password));
        var promiseToken = this.storage.set('token', carriera['token']);
        var promiseNome = this.storage.set('nome', nome);
        var promiseCognome = this.storage.set('cognome', cognome);
        var promiseDipId = this.storage.set('dipID', carriera['dip_id']);
        var promiseDip = this.storage.set('nome_dip', carriera['nome_dip']);
        var promiseUserRole = this.storage.set('user_role', userRole);
        switch (userRole) {
            case 'student': {
                var promiseMatId = this.storage.set('matid', carriera['mat_id']);
                var promiseMatricola = this.storage.set('matricola', carriera['matricola']);
                var promiseCdsId = this.storage.set('cdsID', carriera['cds_id']);
                var promiseCds = this.storage.set('nome_cds', carriera['nome_cds']);
                var promiseSesso = this.storage.set('sesso', carriera['sesso']);
                Promise.all([promiseUserRole, promiseTokenNotifiche, promiseUsername, promisePassword,
                    promiseToken, promiseMatId, promiseMatId, promiseMatricola, promiseCdsId, promiseDipId,
                    promiseCds, promiseDip, promiseNome, promiseCognome, promiseSesso, promiseLogged]).then(function (datiStorage) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Dati salvati nello storage locale', datiStorage);
                    _this.notificheService.aggiornaSottoscrizioni();
                }, function (storageErr) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                });
                break;
            }
            case 'teacher': {
                var promiseId = this.storage.set('id', carriera['id']);
                var promiseIdDocente = this.storage.set('id_docente', carriera['id_docente']);
                var promiseRuolo = this.storage.set('ruolo', carriera['ruolo']);
                var promiseEmail = this.storage.set('email', carriera['email']);
                Promise.all([promiseTokenNotifiche, promiseUsername, promisePassword,
                    promiseToken, promiseDipId, promiseDip, promiseNome, promiseCognome,
                    promiseId, promiseIdDocente, promiseRuolo, promiseEmail, promiseLogged]).then(function (datiStorage) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Dati salvati nello storage locale', datiStorage);
                    _this.notificheService.aggiornaSottoscrizioni();
                }, function (storageErr) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                });
                break;
            }
        }
    };
    /**
     * Questa funziona effettua il login sul server unimol
     * @return 1 se in caso di successo (normalmente si avvia il tutorial)
     * @return 0 se l'utente è valido, ma già presente sul dispositivo (andiamo all Home)
     * @return Array<Carriera> se sono presenti più carriere attive assicare all'utente e non è stat indicata una matricola
     */
    AccountService.prototype.login = function (username, password, matricola, cds_id, dip_id) {
        var _this = this;
        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'Login ' + username + ' ' + matricola + ' ' + cds_id + ' ' + dip_id, null);
        return new Promise(function (resolve, reject) {
            var url = _this.urlRegistra;
            var storedUsernamePromise = _this.storage.get('username');
            var storedPasswordPromise = _this.storage.get('password');
            var storedMatricolaPromise = _this.storage.get('matricola');
            var storedIdDocentePromise = _this.storage.get('id_docente');
            var storedNomePromise = _this.storage.get('nome');
            var storedCognomePromise = _this.storage.get('cognome');
            var hashedPassword = ts_md5__WEBPACK_IMPORTED_MODULE_2__["Md5"].hashStr(password).toString();
            Promise.all([storedUsernamePromise, storedPasswordPromise, storedMatricolaPromise, storedIdDocentePromise, storedNomePromise, storedCognomePromise]).then(function (data) {
                var storedUsername = data[0];
                var storedPassword = data[1];
                var storedMatricola = data[2];
                var storedIdDocente = data[3];
                var storedNome = data[4];
                var storedCognome = data[5];
                if (!storedMatricola) {
                    storedMatricola = '';
                }
                if (!storedIdDocente) {
                    storedIdDocente = '';
                }
                // Se è presente un utente, allora ha effettuato il Logout bloccando il dispositivo
                if ((storedUsername) && (storedPassword)) {
                    // Se si prova ad entrare con un utente differente, neghiamo l'accesso
                    // in quanto i dati nello storage sono relativi all'ultimo utente registrato
                    if (username !== storedUsername) {
                        _this.toastCtrl.create({
                            message: 'Questo dispositivo è attualmente associato all\'utente ' + storedUsername,
                            duration: 3000
                        }).then(function (toast) {
                            toast.present();
                            reject('Dispositivo già associato a ' + storedUsername);
                        }, function (err) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', err);
                            reject('Errore toast');
                        });
                    }
                    else if (hashedPassword === storedPassword.toString() &&
                        ((matricola === '' && storedMatricola.toString() === '')
                            || (matricola = storedIdDocente.toString()))
                        || (matricola === '' && storedIdDocente.toString() === '')
                        || (matricola = storedIdDocente.toString())) {
                        // Utente e password coincidono con quelle dell'ultmo utente registrato
                        _this.storage.get('sesso').then(function (sesso) {
                            if (sesso === 'F') {
                                _this.toastCtrl.create({
                                    message: 'Bentornata ' + storedNome,
                                    duration: 3000
                                }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', err); });
                            }
                            else {
                                _this.toastCtrl.create({
                                    message: 'Bentornato ' + storedNome,
                                    duration: 3000
                                }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', err); });
                            }
                        }, function () {
                            _this.toastCtrl.create({
                                message: 'Bentornato ' + storedNome,
                                duration: 3000
                            }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', err); });
                        });
                        _this.storage.set('logged', true).then(function () {
                            resolve('unlocked');
                        }, function (storageErr) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                            reject(storageErr);
                        });
                    }
                    else {
                        // Password errata per l'utente registrato
                        _this.toastCtrl.create({
                            message: 'Dati utente non corretti',
                            duration: 3000
                        }).then(function (toast) {
                            toast.present();
                            reject('Dati errati');
                        }, function (err) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', err);
                            reject('Errore storage');
                        });
                    }
                }
                else {
                    // Nessun utente connesso. Effettuiamo la registazione
                    _this.storage.get('tokenNotifiche').then(function (tokenNotifiche) {
                        // const body = JSON.stringify({
                        var body = {
                            username: username,
                            password: password,
                            matricola: matricola,
                            cds_id: cds_id,
                            dip_id: dip_id,
                            tokenNotifiche: tokenNotifiche
                        };
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'Chiamo ' + url, body);
                        // this.http.post(url, body)
                        //     .pipe(timeout(this.getTimeout()))
                        //     .subscribe(
                        _this.services.getJSON(url, body).then(function (esitoRegistrazione) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'Esito Registrazione', esitoRegistrazione);
                            // const cod = esitoRegistrazione.json();
                            var codice = esitoRegistrazione['codice'];
                            var carriera = esitoRegistrazione;
                            var carriere = esitoRegistrazione['carriere'];
                            if (codice === 0) {
                                // Se l'utente è valido ma è diverso dall'utente connesso
                                // cancelliamo i dati precedentemente memorizzati
                                if ((username !== storedUsername)) {
                                    _this.storage.clear().then(function () {
                                        _this.notificheService.rimuoviSottoscrizioni().then(function () {
                                            _this.salvaDatiLogin(username, password, tokenNotifiche, carriera);
                                            console.log('[+] account.service.ts -> getJson -> codice = 0 -> salvaDatiLogin');
                                            resolve('logged');
                                            _this.sync.aggiornaDeviceInfo(tokenNotifiche);
                                        }, (function (err) {
                                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore rimozione sottoscrizioni', err);
                                            reject(err);
                                        }));
                                    }, function (storageErr) {
                                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Clear storage fallito', storageErr);
                                        reject(storageErr);
                                    });
                                }
                                else {
                                    console.log('[+] account.service.ts -> getJson -> codice != 0 -> salvaDatiLogin');
                                    _this.salvaDatiLogin(username, password, tokenNotifiche, carriera);
                                    resolve('logged');
                                    _this.sync.aggiornaDeviceInfo(tokenNotifiche);
                                }
                            }
                            else {
                                if (codice === 2) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Carriere multiple', carriere);
                                    resolve(carriere);
                                }
                                else {
                                    _this.toastCtrl.create({
                                        message: esitoRegistrazione['messaggio'],
                                        duration: 3000
                                    }).then(function (toast) {
                                        toast.present();
                                        reject(esitoRegistrazione['messaggio']);
                                    }, function (err) {
                                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', err);
                                        reject(err);
                                    });
                                }
                            }
                        }, function (err) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore ' + url, err);
                            var cod;
                            var messaggio;
                            cod = err.status;
                            switch (cod) {
                                case 0: {
                                    messaggio = 'Impossibile contattare il Portale. Verificare la connessione ad Internet';
                                    break;
                                }
                                case 400: {
                                    messaggio = 'Dati non validi. ' + err.error;
                                    break;
                                }
                                case 409: {
                                    messaggio = 'Utente già registrato';
                                    break;
                                }
                                default: {
                                    if (err.message) {
                                        messaggio = err.message;
                                    }
                                    else {
                                        messaggio = 'Si è verificato un errore con l\'autenticazione';
                                    }
                                }
                            }
                            _this.toastCtrl.create({
                                message: messaggio,
                                duration: 3000
                            }).then(function (toast) {
                                toast.present();
                                reject(messaggio);
                            }, function (toastErr) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', toastErr);
                                reject(toastErr);
                            });
                        });
                    }, function (rej) {
                        // Nessun Token Notifiche
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Nessun Token Notifiche' + url, rej);
                        reject(rej);
                    }).catch(function (ex) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Eccezione in ' + url, ex);
                        reject(ex);
                    });
                }
                // else (nessun utente connesso)
            }, function (err) {
                // TO BE CHECKED!
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore nella lettura dei dati dallo storage!', err);
                reject(err);
            });
        });
    };
    AccountService.prototype.disconnetti = function (token) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.loadingCtrl.create({
                message: 'Attendere...'
            }).then(function (loading) {
                loading.present();
                _this.services.post(_this.getUrlDisconnetti(), { token: token }).then(function (response) {
                    loading.dismiss();
                    if (response) {
                        _this.toastCtrl.create({
                            message: 'Il dispositivo è stato disconnesso.',
                            duration: 5000
                        }).then(function (toast) {
                            toast.present();
                        }, function (toastErr) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', toastErr);
                        });
                        // this.navCtrl.pop();
                        resolve(true);
                    }
                    else {
                        _this.toastCtrl.create({
                            message: 'Si è verificato un problema durante l\'elaborazione della richiesta.',
                            duration: 5000
                        }).then(function (toast) {
                            toast.present();
                        }, function (toastErr) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', toastErr);
                        });
                        reject();
                    }
                }, function (err) {
                    loading.dismiss();
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Nessuna connessione ad Internet', err);
                    _this.toastCtrl.create({
                        message: 'Nessuna connessione ad Internet. ' +
                            'Per poter scollegare un dispoditivo devi essere connesso ad Internet.',
                        duration: 10000
                    }).then(function (toast) {
                        toast.present();
                        reject();
                    }, function (toastErr) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Toast fallito!', toastErr);
                        reject();
                    });
                });
            }, function (errLoading) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Loading fallito!', errLoading);
                reject();
            });
        });
    };
    AccountService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_4__["Storage"],
            _http_service__WEBPACK_IMPORTED_MODULE_7__["HttpService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"],
            _sync_service__WEBPACK_IMPORTED_MODULE_6__["SyncService"],
            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"],
            _notifiche_service__WEBPACK_IMPORTED_MODULE_5__["NotificheService"]])
    ], AccountService);
    return AccountService;
}());



/***/ }),

/***/ "./src/app/services/db-service.ts":
/*!****************************************!*\
  !*** ./src/app/services/db-service.ts ***!
  \****************************************/
/*! exports provided: DBService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DBService", function() { return DBService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic-native/sqlite/ngx */ "./node_modules/@ionic-native/sqlite/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/android-permissions/ngx */ "./node_modules/@ionic-native/android-permissions/ngx/index.js");
/* harmony import */ var _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/file-opener/ngx */ "./node_modules/@ionic-native/file-opener/ngx/index.js");
/* harmony import */ var _toasts_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./toasts.service */ "./src/app/services/toasts.service.ts");
/* harmony import */ var _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/file-transfer/ngx */ "./node_modules/@ionic-native/file-transfer/ngx/index.js");
/* harmony import */ var _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/in-app-browser/ngx */ "./node_modules/@ionic-native/in-app-browser/ngx/index.js");
/* harmony import */ var _global_data_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _sync_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./sync.service */ "./src/app/services/sync.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var DBService = /** @class */ (function () {
    function DBService(sqlite, platform, fileOpener, transfer, file, messaggi, loadingCtrl, alertCtrl, inAppBrowser, permessi, sync, globalData) {
        this.sqlite = sqlite;
        this.platform = platform;
        this.fileOpener = fileOpener;
        this.transfer = transfer;
        this.file = file;
        this.messaggi = messaggi;
        this.loadingCtrl = loadingCtrl;
        this.alertCtrl = alertCtrl;
        this.inAppBrowser = inAppBrowser;
        this.permessi = permessi;
        this.sync = sync;
        this.globalData = globalData;
        this.dbOptions = {
            name: 'unimol-studenti.db',
            location: 'default'
        };
        this.urlAllegatoTest = this.sync.schema + this.sync.ip + this.sync.dir + '/test_json/test.pdf';
        this.options = {
            location: 'yes',
            hidden: 'no',
            clearcache: 'yes',
            clearsessioncache: 'yes',
            zoom: 'yes',
            hardwareback: 'yes',
            mediaPlaybackRequiresUserAction: 'no',
            shouldPauseOnSuspend: 'no',
            closebuttoncaption: 'Close',
            disallowoverscroll: 'no',
            toolbar: 'yes',
            enableViewportScale: 'no',
            allowInlineMediaPlayback: 'no',
            presentationstyle: 'pagesheet',
            fullscreen: 'yes',
        };
    }
    DBService.prototype.openDb = function () {
        var _this = this;
        if (this.platform.is('ios') || (this.platform.is('android'))) {
            // console.log('Apro database ' + this.dbOptions.name);
            this.sqlite.create(this.dbOptions).then(function (db) {
                _this.database = db;
                db.executeSql('CREATE TABLE IF NOT EXISTS allegati (' +
                    'id integer primary key, ' +
                    'ad_id varchar(50), ' +
                    'data bigint(10),' +
                    'tipo varchar(50), ' +
                    'estensione varchar(50), ' +
                    'scaricato NUMERIC)', []).then(function (op) {
                    // console.log('Tabella allegati creata: ', op);
                }, function (err) {
                    // console.log('Errore creazione tabella: ');
                    console.dir(err);
                });
            }, function (error) {
                console.error('Impossibile aprire/creare il database: ');
                console.dir(error);
            }).catch(function (e) {
                console.error('Eccezione: Impossibile aprire/creare il database: ');
                console.dir(e);
            });
        }
    };
    /* ----   ALLEGATI  ___ */
    DBService.prototype.inserisciAllegato = function (id, ad_id, tipo, estensione) {
        // console.log(id + ' - ' + ad_id + ' - ' + tipo + ' - ' + estensione);
        var _this = this;
        // this.openDb();
        return new Promise(function (resolve, reject) {
            _this.sqlite.create(_this.dbOptions).then(function (db) {
                var data = new Date();
                db.executeSql('select * from allegati where id=' + id, [])
                    .then(function (esitoQuery) {
                    if (esitoQuery.rows.length > 0) {
                        db.executeSql('UPDATE allegati SET (tipo, ad_id, estensione, data, scaricato) = (?, ?, ?, ?, ?) ' +
                            'WHERE id = ?', [tipo, ad_id, estensione, data, 1, id]).then(function () {
                            // console.log('Update tabella files Ok.');
                            resolve();
                        }, function (erroreAggiornamentoTabellaFiles) {
                            // console.log('Errore update tabella files: ');
                            console.dir(erroreAggiornamentoTabellaFiles);
                            reject(erroreAggiornamentoTabellaFiles);
                        });
                    }
                    else {
                        db.executeSql('INSERT INTO allegati (id, tipo, ad_id, estensione, data, scaricato) VALUES (?, ?, ?, ?, ?, ?) ', [id, tipo, ad_id, estensione, data, 1]).then(function () {
                            // console.log('Insert files Ok.');
                            resolve();
                        }, function (erroreQuery) {
                            // console.log('Errore insert allegati: ');
                            console.dir(erroreQuery);
                            reject(erroreQuery);
                        });
                    }
                }, function (erroreSelect) {
                    // console.log('Errore select * from allegati: ');
                    console.dir(erroreSelect);
                    reject(erroreSelect);
                });
            }, function (error) {
                console.error('Impossibile aprire il database...');
                console.dir(error);
                reject(error);
            }).catch(function (e) { return console.log(e); }); // -- Sqlite
        });
    };
    DBService.prototype.getAllegato = function (id) {
        var _this = this;
        // console.log('Cerco allegati per ' + id);
        var allegato = null;
        return new Promise(function (resolve, reject) {
            _this.sqlite.create(_this.dbOptions).then(function (db) {
                db.executeSql('SELECT * FROM allegati WHERE id = ?', [id]).then(function (result) {
                    if (result.rows.length > 0) {
                        // for (let i = 0; i < result.rows.length; i++) {
                        //     console.log('Item:' + i);
                        //     console.dir(result.rows.item(i));
                        // }
                        // prendo solo il primo
                        // for (let i = 0; i < result.rows.length; i++) {
                        var all = result.rows.item(0);
                        allegato = {
                            id: all.id,
                            ad_id: all.ad_id,
                            tipo: all.tipo,
                            estensione: all.estensione,
                            data: all.data,
                            scaricato: all.scaricato
                        };
                        resolve(allegato);
                    }
                    else {
                        reject();
                    }
                }, function (errore) {
                    // console.log('Errore select allegato ');
                    console.dir(errore);
                    reject();
                });
            });
        });
    };
    DBService.prototype.allegatoScaricato = function (item) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // console.log('Cerco allegati per ' + id);
            if (_this.platform.is('android') || _this.platform.is('ios')) {
                var fileName = item.ALLEGATO_ID + '.' + item.ESTENSIONE;
                var downloadDir = _this.file.dataDirectory;
                _this.file.checkFile(downloadDir, fileName).then(function (data) {
                    console.dir(data);
                    resolve(true);
                }, function (err) {
                    reject(err);
                });
            }
            else {
                // console.log('Terminale Windows');
                reject('Piattaforma non supportata');
            }
        });
    };
    DBService.prototype.hasPermission = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.permessi.checkPermission(_this.permessi.PERMISSION.WRITE_EXTERNAL_STORAGE).then(function (permesso) {
                if (permesso.hasPermission) {
                    resolve();
                }
                else {
                    _this.permessi.requestPermission(_this.permessi.PERMISSION.WRITE_EXTERNAL_STORAGE).then(function (success) {
                        if (success.hasPermission) {
                            resolve(success.hasPermission);
                        }
                        else {
                            reject(success.hasPermission);
                        }
                    }, function (failure) {
                        reject(failure);
                    });
                }
            }, function (err) {
                reject(err);
            });
        });
    };
    DBService.prototype.download = function (item) {
        var _this = this;
        this.hasPermission().then(function () {
            var filePath = 'https://unimol.esse3.cineca.it/ewc/VisualizzaAllegato.do?ALL_ID=' + item.ALLEGATO_ID;
            if (_this.globalData.utente_test) {
                filePath = _this.urlAllegatoTest;
            }
            var uri = encodeURI(filePath);
            if (_this.platform.is('android') || _this.platform.is('ios')) {
                var fileTransfer_1 = _this.transfer.create();
                var downloadDir_1 = _this.file.dataDirectory;
                var fileName_1 = item.ALLEGATO_ID + '.' + item.ESTENSIONE;
                // console.log('Scarico ' + uri);
                _this.loadingCtrl.create({
                    spinner: 'crescent',
                    message: 'Download in corso...'
                }).then(function (loading) {
                    loading.present();
                    fileTransfer_1.download(uri, downloadDir_1 + fileName_1, true, {
                        headers: {
                            'Access-Control-Allow-Origin': '*',
                            'Access-Control-Allow-Credentials': 'true',
                            'Access-Control-Allow-Headers': 'true',
                            'Access-Control-Allow-Methods': 'Content-Type, Accept, X-Requested-With, remember-me'
                        }
                    }).then(function (entry) {
                        // console.log('SCARICATO');
                        // console.dir(entry);
                        entry.file(function (success) {
                            var mimeType = success.type;
                            // console.log('download complete: ' + entry.toURL());
                            _this.messaggi.downloadCompletato();
                            _this.inserisciAllegato(item.ALLEGATO_ID, item.AD_ID, mimeType, item.ESTENSIONE).then(function () {
                                loading.dismiss();
                                _this.apriFile(item);
                            }, function (err) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'inserisciAllegato rejected', err);
                                loading.dismiss();
                            });
                        }, function (error) {
                            loading.dismiss();
                            _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'entry.file fallito!', error);
                            _this.messaggi.erroreAperturaFile();
                        });
                    }, function (err) {
                        loading.dismiss();
                        // console.log('ERR');
                        console.dir(err);
                        _this.messaggi.erroreDownload();
                    }).catch(function (ex) {
                        loading.dismiss();
                        _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'Eccezione in download!', ex);
                        _this.messaggi.erroreDownload();
                    });
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'Loader fallito!', err);
                });
            }
            else {
                var target = '_self';
                _this.browser = _this.inAppBrowser.create(uri, target, _this.options);
            }
        }, function (err) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'Errore permessi', err);
            _this.messaggi.permessoNonAttivo();
        });
    };
    DBService.prototype.apriFile = function (item) {
        var _this = this;
        this.allegatoScaricato(item).then(function () {
            _this.getAllegato(item.ALLEGATO_ID).then(function (allegato) {
                // console.dir(allegato);
                if (allegato != null) {
                    if (_this.platform.is('android') || _this.platform.is('ios')) {
                        var fileName = item.ALLEGATO_ID + '.' + item.ESTENSIONE;
                        var downloadDir = _this.file.dataDirectory;
                        var pathCompleto = downloadDir + fileName;
                        _this.fileOpener.open(pathCompleto, allegato.tipo)
                            .then(function () {
                            // console.log('File aperto!'));
                        }).catch(function (e) {
                            // console.log('Errore apertura file', e);
                            _this.messaggi.fileNonSupportato();
                        });
                    }
                    else {
                        // console.log('Terminale Windows');
                        _this.messaggi.piattaformaNonSupportata();
                    }
                }
                else {
                    _this.messaggi.fileNonScaricato();
                    // console.log('Allegato non presente');
                }
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'Impossibile recuperare l\'allegato', err);
                _this.messaggi.fileNonScaricato();
            });
        }, function (error) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'Impossibile recuperare il file', error);
            _this.alertCtrl.create({
                header: 'Apertura File',
                message: 'Il file non e\' presente sul dispositivo. Vuoi scaricarlo ora?',
                buttons: [
                    {
                        text: 'Si',
                        handler: function () {
                            _this.download(item);
                        }
                    },
                    {
                        text: 'No',
                        role: 'cancel',
                        handler: function () {
                        }
                    }
                ]
            }).then(function (alert) { return alert.present(); });
        });
    };
    DBService.prototype.eliminaFile = function (item) {
        var _this = this;
        if (this.platform.is('android') || this.platform.is('ios')) {
            var fileName_2 = item.ALLEGATO_ID + '.' + item.ESTENSIONE;
            var downloadDir_2 = this.file.dataDirectory;
            this.file.checkFile(downloadDir_2, fileName_2).then(function (data) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(1, 'checkFile OK', data);
                _this.file.removeFile(downloadDir_2, fileName_2).then(function () {
                    _this.messaggi.successoEliminazione();
                    return true;
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(2, 'Impossibile eliminare l\'allegato', err);
                    _this.messaggi.fallimentoEliminazione();
                    return false;
                });
                return true;
            }, function (err) {
                _this.messaggi.fileNonScaricato();
                _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"].log(1, 'Nulla da cancellare!', err);
                return true;
            });
        }
        else {
            // console.log('Terminale Windows');
            this.messaggi.piattaformaNonSupportata();
            return false;
        }
    };
    DBService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_native_sqlite_ngx__WEBPACK_IMPORTED_MODULE_1__["SQLite"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_native_file_opener_ngx__WEBPACK_IMPORTED_MODULE_5__["FileOpener"],
            _ionic_native_file_transfer_ngx__WEBPACK_IMPORTED_MODULE_7__["FileTransfer"],
            _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_3__["File"],
            _toasts_service__WEBPACK_IMPORTED_MODULE_6__["ToastsService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_native_in_app_browser_ngx__WEBPACK_IMPORTED_MODULE_8__["InAppBrowser"],
            _ionic_native_android_permissions_ngx__WEBPACK_IMPORTED_MODULE_4__["AndroidPermissions"],
            _sync_service__WEBPACK_IMPORTED_MODULE_10__["SyncService"],
            _global_data_service__WEBPACK_IMPORTED_MODULE_9__["GlobalDataService"]])
    ], DBService);
    return DBService;
}());



/***/ }),

/***/ "./src/app/services/global-data.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/global-data.service.ts ***!
  \*************************************************/
/*! exports provided: GlobalDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GlobalDataService", function() { return GlobalDataService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic-native/screen-orientation/ngx */ "./node_modules/@ionic-native/screen-orientation/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var sourcemapped_stacktrace__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sourcemapped-stacktrace */ "./node_modules/sourcemapped-stacktrace/dist/sourcemapped-stacktrace.js");
/* harmony import */ var sourcemapped_stacktrace__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sourcemapped_stacktrace__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



// Includiamo una libreria che ci consente di risolvere il map sul trace per avere il file in cui il log è stato chiamato


var GlobalDataService = /** @class */ (function () {
    function GlobalDataService(navCtrl, platform, screenOrientation, ngZone) {
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.screenOrientation = screenOrientation;
        this.ngZone = ngZone;
        this.utente_test = false;
        this.android = false;
        this.iPhoneX = false;
        this.debug = false;
        this.logged = false;
        this.srcPage = '/home';
        this.width = 600;
        this.height = 600;
        this.faWifi = _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__["faWifi"];
        this.faLink = _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__["faLink"];
        this.faUnlink = _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__["faUnlink"];
    }
    GlobalDataService_1 = GlobalDataService;
    // level 0: VERBOSE
    // level 1: INFO
    // level 2: ERROR
    GlobalDataService.log = function (level, reason, msg) {
        var minLog = 3;
        var minTrace = 10; // disabilitato, lo usiamo solo nel dubugging, problemi con l'emulatore ios
        if (level >= minLog) {
            // if (reason) { console.log(reason); }
            // if (msg) { console.dir(msg); }
            if (level >= minTrace) {
                var stack = null;
                try {
                    throw true;
                }
                catch (e) {
                    stack = e.stack;
                }
                if (stack) {
                    Object(sourcemapped_stacktrace__WEBPACK_IMPORTED_MODULE_3__["mapStackTrace"])(stack, function (mappedStack) {
                        var trace = '';
                        try {
                            // Nel trace la prima chiamata è relativa al metodo log stesso
                            // a noi invece interessa solo la chiamata precedente ad essa
                            trace = mappedStack.join('\n');
                            var start = trace.split(' at ', 2).join(' at ').length + 4;
                            trace = trace.slice(start);
                            var end = trace.indexOf('\n');
                            trace = trace.slice(0, end);
                        }
                        catch (e) {
                            trace = '';
                        }
                        if (reason) {
                            console.log(reason + ' (' + trace + ')');
                        }
                        if (msg) {
                            console.dir(msg);
                        }
                    }, {
                        filter: function (line) {
                            // process only sources containing typescript sources
                            // return /(\.ts)/.test(line);
                        }
                    });
                }
                else {
                    if (reason) {
                        console.log(reason);
                    }
                    if (msg) {
                        console.dir(msg);
                    }
                }
            }
            else {
                if (reason) {
                    console.log(reason);
                }
                if (msg) {
                    console.dir(msg);
                }
            }
        }
    };
    GlobalDataService.toTitleCase = function (str) {
        return str.replace(/\w\S*/g, function (txt) {
            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
        });
    };
    GlobalDataService.differenzaGiorni = function (laterdate, earlierdate) {
        var difference = laterdate.getTime() - earlierdate.getTime();
        return Math.floor(difference / 1000 / 60 / 60 / 24);
    };
    GlobalDataService.differenzaOre = function (laterdate, earlierdate) {
        var difference = laterdate.getTime() - earlierdate.getTime();
        return Math.floor(difference / 1000 / 60 / 60);
    };
    GlobalDataService.differenzaMinuti = function (laterdate, earlierdate) {
        var difference = laterdate.getTime() - earlierdate.getTime();
        return Math.floor(difference / 1000 / 60);
    };
    GlobalDataService.formatStringDate = function (stringDate) {
        var day = stringDate.slice(0, 10);
        var hour = stringDate.slice(11, 19);
        var dayParts = day.split('-');
        var hourParts = hour.split(':');
        var mydate = new Date(dayParts[0], dayParts[1] - 1, dayParts[2], hourParts[0], hourParts[1], hourParts[2]);
        return this.timestamp2string(mydate.getTime() / 1000);
    };
    GlobalDataService.sleepBW = function (milliseconds) {
        var start = new Date().getTime();
        for (var i = 0; i < 1e7; i++) {
            if ((new Date().getTime() - start) > milliseconds) {
                break;
            }
        }
    };
    GlobalDataService.sleep = function (ms) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return setTimeout(resolve, ms); })];
            });
        });
    };
    GlobalDataService.timestamp2string = function (timestamp) {
        var d = new Date(timestamp * 1000);
        var dataFormattata = ('0' + d.getDate()).slice(-2) + '/' +
            ('0' + (d.getMonth() + 1)).slice(-2) + '/' +
            d.getFullYear().toString().slice(-4) + ' ' +
            ('0' + d.getHours()).slice(-2) + ':' +
            ('0' + d.getMinutes()).slice(-2);
        if (dataFormattata) {
            return dataFormattata;
        }
        else {
            return '';
        }
    };
    GlobalDataService.formatStringDateTime = function (stringDate, daySeparator, hourSeparator) {
        var day = stringDate.slice(0, 10);
        var hour = stringDate.slice(11, 19);
        var dayParts = day.split(daySeparator);
        var hourParts = hour.split(hourSeparator);
        var mydate = new Date(dayParts[0], dayParts[1] - 1, dayParts[2], hourParts[0], hourParts[1], hourParts[2]);
        return this.timestamp2string(mydate.getTime() / 1000);
    };
    GlobalDataService.prototype.getWidth = function () {
        this.width = this.platform.width();
        return this.width;
    };
    GlobalDataService.prototype.getHeigth = function () {
        this.height = this.platform.height();
        return this.height;
    };
    // isSpeakEnabled(): boolean {
    //     return false; // Disabilitato fino al rilascio
    //     // return this.speakEnabled;
    // }
    GlobalDataService.prototype.setSpeakEnabled = function (spk) {
        this.speakEnabled = spk;
    };
    GlobalDataService.prototype.isLandscape = function () {
        this.landscape = this.screenOrientation.type.startsWith('landscape');
        return this.landscape;
    };
    GlobalDataService.prototype.goTo = function (fromPage, toPage, direction, zone) {
        // zone = true;
        var _this = this;
        if (zone) {
            this.ngZone.run(function () {
                switch (direction) {
                    case 'forward': {
                        _this.srcPage = fromPage;
                        _this.navCtrl.navigateForward(toPage).then(function () {
                        }, (function (errNavigate) {
                            GlobalDataService_1.log(2, 'Errore nella chiamata al NavController ', errNavigate);
                        }));
                        break;
                    }
                    case 'backward': {
                        _this.navCtrl.navigateBack(toPage).then(function () {
                        }, (function (errNavigate) {
                            GlobalDataService_1.log(2, 'Errore nella chiamata al NavController ', errNavigate);
                        }));
                        break;
                    }
                    default: {
                        _this.srcPage = toPage; // Navigate Root
                        _this.navCtrl.navigateRoot(toPage).then(function () {
                        }, (function (errNavigate) {
                            GlobalDataService_1.log(2, 'Errore nella chiamata al NavController ', errNavigate);
                        }));
                    }
                }
            });
        }
        else {
            switch (direction) {
                case 'forward': {
                    this.srcPage = fromPage;
                    this.navCtrl.navigateForward(toPage).then(function () {
                    }, (function (errNavigate) {
                        GlobalDataService_1.log(2, 'Errore nella chiamata al NavController ', errNavigate);
                    }));
                    break;
                }
                case 'backward': {
                    this.navCtrl.navigateBack(toPage).then(function () {
                    }, (function (errNavigate) {
                        GlobalDataService_1.log(2, 'Errore nella chiamata al NavController ', errNavigate);
                    }));
                    break;
                }
                default: {
                    this.srcPage = toPage; // Navigate Root
                    this.navCtrl.navigateRoot(toPage).then(function () {
                    }, (function (errNavigate) {
                        GlobalDataService_1.log(2, 'Errore nella chiamata al NavController ', errNavigate);
                    }));
                }
            }
        }
    };
    var GlobalDataService_1;
    GlobalDataService = GlobalDataService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_1__["ScreenOrientation"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], GlobalDataService);
    return GlobalDataService;
}());



/***/ }),

/***/ "./src/app/services/http.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/http.service.ts ***!
  \******************************************/
/*! exports provided: HttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpService", function() { return HttpService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _global_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/http/ngx */ "./node_modules/@ionic-native/http/ngx/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HttpService = /** @class */ (function () {
    // const httpOptions = {
    //     headers: new HttpHeaders({
    //         'Content-Type':  'application/json',
    //     }),
    //     observe: 'response' as 'response',
    //     responseType: 'json' as 'json'
    // };
    function HttpService(http, httpClient, globalData, storage) {
        this.http = http;
        this.httpClient = httpClient;
        this.globalData = globalData;
        this.storage = storage;
        this.connected = undefined;
        this.connessioneInizializzata = false;
        this.connessioneInCorso = false;
        this.connessioneLenta = true;
        // Default (meno ottimizzato, ma funziona ion assenza di cordova)
        this.httpNativo = false;
    }
    HttpService.prototype.checkNative = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.postNative('https://service.unimol.it/studenti/api/ultimaVersione.php', { platform: 'Android' })
                .then(function () {
                resolve(true);
            }, function () {
                resolve(false);
            });
        });
    };
    HttpService.prototype.setHttpType = function () {
        var _this = this;
        this.storage.get('httpNativo').then(function (value) {
            if (value != null) {
                _this.httpNativo = value;
            }
            else {
                // se è supportato il plugin nativo lo impostiamo come default
                _this.checkNative().then(function (enabled) {
                    _this.httpNativo = !!enabled; // TODO: !! -> !
                });
            }
        });
    };
    HttpService.prototype.get = function (url, parameters) {
        if (this.httpNativo) {
            return this.getNative(url, parameters);
        }
        else {
            return this.getAngular(url);
        }
    };
    HttpService.prototype.post = function (url, body) {
        if (this.httpNativo) {
            return this.postNative(url, body);
        }
        else {
            return this.postAngular(url, body);
        }
    };
    HttpService.prototype.getJSON = function (url, body) {
        if (this.httpNativo) {
            console.log('nativo');
            return this.getJSONNative(url, body);
        }
        else {
            console.log('non nativo');
            return this.getJSONAngular(url, body);
        }
    };
    HttpService.prototype.getAngular = function (url) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.httpClient.get('https://swapi.co/api/films')
                .subscribe(function (data) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'GET ' + url, data);
                resolve(data);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'GET fallita!', err);
                reject(err);
            });
        });
    };
    HttpService.prototype.postAngular = function (url, body) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.httpClient.post(url, body, { responseType: 'text' })
                .subscribe(function (response) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, url, response);
                resolve(response);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Error', err);
                reject(err);
            });
        });
    };
    HttpService.prototype.getNative = function (url, parameters) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.http.get(url, parameters, {})
                .then(function (data) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'GET ' + url, data);
                resolve(data);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'GET fallita!', err);
                reject(err);
            })
                .catch(function (error) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Exception durante la chiamata GET fallito!', error);
                reject();
            });
        });
    };
    HttpService.prototype.postNative = function (url, body) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.http.setHeader('*', 'Content-Type', 'application/json');
            _this.http.setDataSerializer('json');
            _this.http.post(url, body, {}).then(function (response) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, url, response);
                resolve(response.data);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Error', err);
                reject(err);
            });
        });
    };
    HttpService.prototype.getJSONNative = function (url, body) {
        var _this = this;
        this.http.setHeader('*', 'Content-Type', 'application/json');
        this.http.setDataSerializer('json');
        return new Promise(function (resolve, reject) {
            _this.http.post(url, body, {}).then(function (response) {
                var dati = JSON.parse(response.data);
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, url, response);
                resolve(dati);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Error', err);
                reject(err);
            }).catch(function (exception) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Catch', exception);
                reject();
            });
        });
    };
    HttpService.prototype.getJSONAngular = function (url, body) {
        var _this = this;
        // console.log('url: ', url);
        // console.log('body: ', body);
        return new Promise(function (resolve, reject) {
            _this.httpClient.post(url, body)
                .subscribe(function (response) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, url, response);
                resolve(response);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Error', err);
                reject(err);
            });
        });
    };
    // return this.http.get('https://httpbin.org/ip')
    //     .pipe(
    //         map(
    //     res => { res.json(); },
    //     err => { console.dir(err); }));
    HttpService.prototype.getConnected = function () {
        // console.log(this.connessioneInizializzata);
        var _this = this;
        if (!this.connessioneInCorso && !this.connessioneInizializzata) {
            try {
                this.connessioneInCorso = true;
                // this.http.get('https://httpbin.org/ip')
                // this.http.setHeader('*', 'Content-Type', 'application/json');
                // this.http.setDataSerializer('json');
                this.post('https://service.unimol.it/studenti/api/ultimaVersione.php', { platform: 'Android' })
                    .then(function (data) {
                    console.dir(data);
                    _this.connessioneInizializzata = true;
                    _this.connected = true;
                    _this.connessioneInCorso = false;
                    return _this.connected;
                }, function (err) {
                    console.log('NOT CONNECTED');
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Ping fallito!', err);
                    _this.connessioneInizializzata = true;
                    _this.connected = false;
                    _this.connessioneInCorso = false;
                    return _this.connected;
                })
                    .catch(function (error) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Ping fallito!', error);
                    console.dir(error);
                    _this.connessioneInizializzata = true;
                    _this.connected = false;
                    _this.connessioneInCorso = false;
                    return _this.connected;
                });
                // this.http.get('https://service.unimol.it/studenti/api/ultimaVersione.php')
                //    // .pipe(map(res => res.json()))
                //     .subscribe(
                //         (data) => {
                //             // console.dir(data);
                //             this.connessione Inizializzata = true;
                //             this.connected = true;
                //             this.connessioneInCorso = false;
                //             return this.connected;
                //         },
                //         (err) => {
                //             // console.dir(err);
                //             this.connessioneInizializzata = true;
                //             this.connected = false;
                //             this.connessioneInCorso = false;
                //             return this.connected;
                //         }
                //     );
            }
            catch (e) {
                console.dir(e);
                this.connessioneInCorso = false;
            }
        }
        else {
            return this.connected;
        }
    };
    HttpService.prototype.setConnected = function (status) {
        this.connessioneInizializzata = false;
        this.connected = status;
    };
    HttpService.prototype.checkConnection = function () {
        this.getConnected();
        // this.http.get('https://httpbin.org/ip', {}, {})
        //     .then(
        //         (data) => {
        //             this.setConnected(true);
        //             console.dir(data);
        //         },
        //         (err) => {
        //             this.setConnected(false);
        //             console.dir(err);
        //         })
    };
    HttpService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_native_http_ngx__WEBPACK_IMPORTED_MODULE_2__["HTTP"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_4__["Storage"]])
    ], HttpService);
    return HttpService;
}());



/***/ }),

/***/ "./src/app/services/notifiche.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/notifiche.service.ts ***!
  \***********************************************/
/*! exports provided: NotificheService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificheService", function() { return NotificheService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _global_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/fcm/ngx */ "./node_modules/@ionic-native/fcm/ngx/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var NotificheService = /** @class */ (function () {
    function NotificheService(storage, services, fcm, platform) {
        this.storage = storage;
        this.services = services;
        this.fcm = fcm;
        this.platform = platform;
    }
    NotificheService.prototype.sottoscrivi = function (topic) {
        this.fcm.subscribeToTopic(topic).then(function (res) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Sottoscrizione a ' + topic + ' confermata', res);
        }, function (err) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Sottoscrizione a ' + topic + ' fallita', err);
        });
    };
    NotificheService.prototype.rimuoviSottoscrizione = function (topic) {
        this.fcm.unsubscribeFromTopic(topic).then(function (res) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Sottoscrizione a ' + topic + ' rimossa', res);
        }, function (err) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Sottoscrizione a ' + topic + ' NON rimossa', err);
        });
    };
    NotificheService.prototype.aggiornaSottoscrizioni = function () {
        var _this = this;
        if (this.platform.is('ios') || (this.platform.is('android'))) {
            // Aggiorniamo la sottoscrizione delle topic di notifica
            this.fcm.getToken().then(function (token) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Token notifiche ' + token, null);
                // this.sottoscrivi('testbeta');
                var topic;
                // Notifiche per lo studente
                _this.storage.get('matricola').then(function (matricola) {
                    if (matricola) {
                        topic = 'MAT' + matricola;
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Aggiorno ' + topic, null);
                        _this.storage.get('carriera').then(function (data) {
                            if (data === false) {
                                _this.rimuoviSottoscrizione(topic);
                            }
                            else {
                                _this.sottoscrivi(topic);
                            }
                        }, function (err) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Sottoscrizione di default per carriera ' + topic, err);
                            _this.sottoscrivi(topic);
                        });
                    }
                }, function (err) {
                    // TO BE CHECKED!
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Matricola non presente nello storage!', err);
                });
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].sleepBW(1000);
                // News di Ateneo
                _this.storage.get('newsAteneo').then(function (data) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Aggiorno ' + topic, null);
                    if (data === false) {
                        _this.rimuoviSottoscrizione(topic);
                    }
                    else {
                        _this.sottoscrivi('UNIMOL');
                    }
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Sottosrizione di default per News Ateneo ' + topic, err);
                    _this.sottoscrivi('UNIMOL');
                });
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].sleepBW(1000);
                // News di Dipartimento
                _this.storage.get('dipID').then(function (id) {
                    if (id != null) {
                        topic = 'DIP' + id;
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Aggiorno ' + topic, null);
                        _this.storage.get('newsDipartimento').then(function (data) {
                            if (data === false) {
                                _this.rimuoviSottoscrizione(topic);
                            }
                            else {
                                _this.sottoscrivi(topic);
                            }
                        }, function (err) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'newsDipartimento non impostato', err);
                            _this.sottoscrivi(topic);
                        });
                    }
                }, function (err) {
                    // TO BE CHECKED!
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Non è presente il codice del dipartimento nello storage!', err);
                });
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].sleepBW(1000);
                // News dal Corso di studi
                _this.storage.get('cdsID').then(function (id) {
                    if (id != null) {
                        topic = 'CDS' + id;
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Aggiorno ' + topic, null);
                        _this.storage.get('newsCds').then(function (data) {
                            if (data === false) {
                                _this.rimuoviSottoscrizione(topic);
                            }
                            else {
                                _this.sottoscrivi(topic);
                            }
                        }, function (err) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'newsCds non impostato', err);
                            _this.sottoscrivi(topic);
                        });
                    }
                }, function (err) {
                    // TO BE CHECKED!
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Non è presente il codice del corso nello storage!', err);
                });
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Nessun token notifiche!', err);
            });
        }
    };
    NotificheService.prototype.rimuoviSottoscrizioni = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.platform.is('ios') || (_this.platform.is('android'))) {
                var topic_1;
                _this.storage.get('matricola').then(function (matricola) {
                    if (matricola) {
                        topic_1 = 'MAT' + matricola;
                        _this.rimuoviSottoscrizione(topic_1);
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Rimuovo ' + topic_1, null);
                    }
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Non è presente la matricola nello storage!', err);
                });
                _this.storage.get('cdsID').then(function (cdsID) {
                    if (cdsID != null) {
                        topic_1 = 'CDS' + cdsID;
                        _this.rimuoviSottoscrizione(topic_1);
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Rimuovo ' + topic_1, null);
                    }
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Non è presente il cdsId nello storage!', err);
                });
                _this.storage.get('dipID').then(function (dipID) {
                    if (dipID != null) {
                        topic_1 = 'DIP' + dipID;
                        _this.rimuoviSottoscrizione(topic_1);
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Rimuovo ' + topic_1, null);
                    }
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Non è presente dipID nello storage!', err);
                });
                topic_1 = 'UNIMOL';
                _this.rimuoviSottoscrizione(topic_1);
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Rimuovo ' + topic_1, null);
                resolve();
            }
            else {
                // In esecuzione su web
                _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Nessuna sottroscrizione notifiche da rimuovere ', null);
                resolve();
            }
        });
    };
    NotificheService.prototype.aggiornamentoPeriodicoSottoscrizioni = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.platform.is('ios') || (_this.platform.is('android'))) {
                _this.storage.get('lastSubscriptionUpdate').then(function (data) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'Ultima verifica:', data);
                    var oggi = new Date();
                    var tsOggi = oggi.getTime();
                    var ultimoCheck = new Date(data);
                    var oreTrascorse = _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].differenzaOre(oggi, ultimoCheck);
                    // let minutiTrascorsi = this.differenzaMinuti(oggi, ultimoCheck);
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(0, 'Ultima verifica aggiornamentoPeriodicoSottoscrizioni: ' + oreTrascorse +
                        ' ore fa ovvero : ' + ultimoCheck, null);
                    if ((data != null) && (oreTrascorse < 2)) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Non sono trascorse ancora 2 ore!', null);
                        resolve(true);
                        return;
                    }
                    else {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'Sono trascorse ' + oreTrascorse + ' ore', null);
                        _this.storage.set('lastSubscriptionUpdate', tsOggi).then(function () {
                        }, function (storageErr) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                        });
                        _this.aggiornaSottoscrizioni();
                        resolve(true);
                        return;
                    }
                }, function (err) {
                    // Se non abbiamo mai salvato l'ultimo check, inizializziamolo
                    _this.storage.set('lastSubscriptionUpdate', new Date(75, 2, 20).getTime()).then(function () {
                    }, function (storageErr) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                    });
                    _global_data_service__WEBPACK_IMPORTED_MODULE_1__["GlobalDataService"].log(1, 'lastSubscriptionUpdate non inizializzata', err);
                    resolve(false);
                });
            }
            else {
                resolve(false);
            }
        });
    };
    NotificheService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _http_service__WEBPACK_IMPORTED_MODULE_5__["HttpService"],
            _ionic_native_fcm_ngx__WEBPACK_IMPORTED_MODULE_3__["FCM"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"]])
    ], NotificheService);
    return NotificheService;
}());



/***/ }),

/***/ "./src/app/services/sync.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/sync.service.ts ***!
  \******************************************/
/*! exports provided: SyncService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncService", function() { return SyncService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/app-version/ngx */ "./node_modules/@ionic-native/app-version/ngx/index.js");
/* harmony import */ var _ionic_native_device_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/device/ngx */ "./node_modules/@ionic-native/device/ngx/index.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var _global_data_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./global-data.service */ "./src/app/services/global-data.service.ts");
/* harmony import */ var _notifiche_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./notifiche.service */ "./src/app/services/notifiche.service.ts");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// import {Md5} from 'ts-md5';



// import {FCM} from '@ionic-native/fcm/ngx';




// import {timeout} from 'rxjs/operators';
/*
ID SERVIZI
"APPELLI', 1
'ESAMI_DA_SOSTENERE', 2
'CREDITI_A_SCELTA', 3
'LIBRETTO', 4
'MEDIE_PREVISTE', 5
'NEWS', 6
'RUBRICA', 7
'QUESTIONARI', 8
'CARRIERA', 9
'APPELLI_PRENOTATI', 10
'TASSE', 11
'PIANO_Di_STUDI', 12
'NOTIFICHE', 13
'SERVIZIO_NEWS_DIPARTIMENTO', 14
'SERVIZIO_NEWS_CDS', 15
'SERVIZIO_NEWS_ATENEO', 16
'SERVIZIO_CALENDARIO', 17
'SERVIZIO_MATERIALE_DIDATTICO', 18
'SERVIZIO_ACCOUNTS', 19
*/
var SyncService = /** @class */ (function () {
    function SyncService(storage, services, device, platform, appVersion, notificheService, 
    // public market: Market,
    toastCtrl, alertCtrl, loadingCtrl, ngZone, globalData) {
        this.storage = storage;
        this.services = services;
        this.device = device;
        this.platform = platform;
        this.appVersion = appVersion;
        this.notificheService = notificheService;
        this.toastCtrl = toastCtrl;
        this.alertCtrl = alertCtrl;
        this.loadingCtrl = loadingCtrl;
        this.ngZone = ngZone;
        this.globalData = globalData;
        // schema = 'https://';
        // ip = 'service.unimol.it';
        // dir = '/studenti';
        this.schema = 'http://';
        this.ip = '192.168.0.5/sync';
        this.dir = '';
        this.apiurl = this.dir + '/api/';
        this.baseurl = this.schema + this.ip + this.apiurl;
        this.urlCheckToken = this.baseurl + 'checkToken.php';
        this.urlSync = this.baseurl + 'sincronizza.php';
        this.urlConfermaRegistra = this.baseurl + 'confermaRegistrazione.php';
        this.urlAppelliPrenotabili = this.baseurl + 'appelliPrenotabili.php';
        this.urlPreferenzeNotifiche = this.baseurl + 'salvaPreferenzeNotifiche.php';
        this.urlAggiornaTokenNotifiche = this.baseurl + 'aggiornaTokenNotifiche.php';
        this.urlAggiornaDeviceInfo = this.baseurl + 'aggiornaDeviceInfo.php';
        this.urlControllaMessaggi = this.baseurl + 'controllaMessaggi.php';
        this.urlReimpostaMessaggi = this.baseurl + 'reimpostaMessaggi.php';
        this.urlUltimaVersione = this.baseurl + 'ultimaVersione.php';
        this.urlSottoscrizioneCalendario = this.baseurl + 'sottoscrizioneCalendario.php';
        this.user = 'username';
        this.mat_id = 'matid';
        this.psw = 'psw';
        this.uuid = 'virtual';
        this.token = 'token';
        this.tokenNotifiche = 'tokenNotifiche';
        this.loading = [];
        this.elencoServizi = [1, 2, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19];
        // private elencoServizi = [1,2];
        this.timeout = 30000;
        // this.http.setHeader('*', 'Content-Type', 'application/json');
        // this.http.setDataSerializer('json');
    }
    SyncService.dataAggiornamento = function (json) {
        var timestamp;
        if (json) {
            timestamp = json['timestamp'];
            if ((timestamp === undefined) || (timestamp == null)) {
                return 'Mai';
            }
        }
        else {
            return 'Mai';
        }
        return _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].timestamp2string(timestamp);
    };
    SyncService.prototype.getTimeout = function () {
        return this.timeout;
    };
    SyncService.prototype.getUrlSync = function () {
        return this.urlSync;
    };
    SyncService.prototype.getUrlConfermaRegistrazione = function () {
        return this.urlConfermaRegistra;
    };
    SyncService.prototype.getUrlAppelliPrenotabili = function () {
        return this.urlAppelliPrenotabili;
    };
    SyncService.prototype.getUrlPreferenzeNotifiche = function () {
        return this.urlPreferenzeNotifiche;
    };
    SyncService.prototype.getUrlAggiornaTokenNotifiche = function () {
        return this.urlAggiornaTokenNotifiche;
    };
    SyncService.prototype.getUrlAggiornaDeviceInfo = function () {
        return this.urlAggiornaDeviceInfo;
    };
    SyncService.prototype.getUrlControllaMessaggi = function () {
        return this.urlControllaMessaggi;
    };
    SyncService.prototype.getUrlReimpostaMessaggi = function () {
        return this.urlReimpostaMessaggi;
    };
    SyncService.prototype.getUrlUltimaVersione = function () {
        return this.urlUltimaVersione;
    };
    SyncService.prototype.getTokenString = function () {
        return this.token;
    };
    SyncService.prototype.getUserString = function () {
        return this.user;
    };
    SyncService.prototype.getPswString = function () {
        return this.psw;
    };
    SyncService.prototype.getMatIdString = function () {
        return this.mat_id;
    };
    SyncService.prototype.getTokenNotificheString = function () {
        return this.tokenNotifiche;
    };
    SyncService.prototype.getUUIDString = function () {
        return this.uuid;
    };
    SyncService.prototype.sincronizza = function () {
        if (this.platform.is('ios') || (this.platform.is('android'))) {
            /*this.aggiornaDeviceInfo().then(
                () => {
                    GlobalDataService.log(0, 'Aggiornato il Device', null);
                }, (err) => {
                    GlobalDataService.log(2, 'Impossibile aggiornare le info sul device', err);
                }
            );*/
            this.controllaVersione().then(function () {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Constollo versione OK', null);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Impossibile controllare la versione dell\'app', err);
            });
        }
        var _loop_1 = function (i) {
            this_1.getJson(i, true).then(function (data) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Recuperato servizio ' + i, data);
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Non Recuperato servizio ' + i, err);
            });
        };
        var this_1 = this;
        for (var _i = 0, _a = this.elencoServizi; _i < _a.length; _i++) {
            var i = _a[_i];
            _loop_1(i);
        }
    };
    SyncService.prototype.getJson = function (id, sync) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.storage.get(id.toString()).then(function (data) {
                if (data && (data[0] || data['timestamp'])) {
                    if (sync) {
                        _this.getJsonLista(id).then(); // Aggiornamento in background
                    }
                    resolve(data);
                }
                else {
                    _this.getJsonLista(id).then(function (dati) { return resolve(dati); }, function (err) { return reject(err); }).catch(function (err) { return reject(err); });
                }
            }, function () { return _this.getJsonLista(id).then(function (data) { return resolve(data); }, function (err) { return reject(err); }).catch(function (err) { return reject(err); }); }).catch(function (err) { return reject(err); });
        });
    };
    SyncService.prototype.getJsonLista = function (id) {
        var _this = this;
        //  let jsonLista = [];
        if (id == null) {
            return;
        }
        return new Promise(function (resolve, reject) {
            _this.loading[id] = true;
            _this.storage.get('token').then(function (val) {
                _this.token = val;
                _this.storage.get('uuid').then(function (uuid) {
                    _this.uuid = uuid;
                    if (_this.uuid === undefined || _this.uuid == null) {
                        _this.uuid = 'uuid';
                    }
                    var url = _this.getUrlSync();
                    // const body = JSON.stringify({
                    //     token: this.token,
                    //     uuid: this.uuid,
                    //     id_servizio: id
                    // });
                    var body = {
                        token: _this.token,
                        uuid: _this.uuid,
                        id_servizio: id
                    };
                    _this.services.getJSON(url, body).then(function (dati) {
                        // Salvo i json nello storage
                        if (dati) {
                            _this.storage.set(id.toString(), dati).then(function () {
                            }, function (storageErr) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                            });
                            // this.storage.set(id.toString() + '_timestamp', dati['timestamp']);
                        }
                        _this.loading[id] = false;
                        resolve(dati);
                    }, function (rej) {
                        _this.loading[id] = false;
                        if (rej.error) {
                            var errore = JSON.parse(rej.error);
                            var stato = rej.status;
                            var codice = errore.codice;
                            if (stato === 401 && codice === -2) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'Token scaduto', null);
                                var storedUsername_1 = _this.storage.get('username');
                                var storedPassword_1 = _this.storage.get('password');
                                Promise.all([storedUsername_1, storedPassword_1]).then(function (data) {
                                    storedUsername_1 = data[0];
                                    storedPassword_1 = data[1];
                                    url = _this.urlCheckToken;
                                    var bodyCheckToken = {
                                        token: _this.token,
                                        username: storedUsername_1,
                                        password: storedPassword_1
                                    };
                                    // TODO: Gestire cambio password da ESSE3
                                    _this.ngZone.run(function () {
                                        _this.services.post(url, bodyCheckToken).then(function () {
                                            _this.getJsonLista(id).then(function (res) {
                                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'getJsonLista', res);
                                            }, function (err) {
                                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'getJsonLista reject', err);
                                            });
                                        });
                                        // // Aggiorniamo la validità del token
                                        // this.http.post(url, bodyCheckToken, {})
                                        //     .then(response => {
                                        //             GlobalDataService.log(0, url, response);
                                        //             this.getJsonLista(id).then(
                                        //                 (res) => {
                                        //                     GlobalDataService.log(0, 'getJsonLista', res);
                                        //                 }, (err) => {
                                        //                     GlobalDataService.log(2, 'getJsonLista reject', err);
                                        //                 }
                                        //             );
                                        //         },
                                        //         (err) => {
                                        //             GlobalDataService.log(2, url, err);
                                        //         });
                                    });
                                }, function (err) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Credenziali non accessibili', err);
                                });
                            }
                            else {
                                _this.toastCtrl.create({
                                    message: errore.msg,
                                    duration: 3000
                                }).then(function (toast) {
                                    toast.present();
                                }, function (err) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Toast fallito', err);
                                });
                            }
                        }
                    }).catch(function () { _this.loading[id] = false; });
                    //
                    // this.http.post(url, body, {})
                    //     .then(response => {
                    //         GlobalDataService.log(0, url, response);
                    //
                    //         const dati = JSON.parse(response.data);
                    //
                    //         // Salvo i json nello storage
                    //         if (dati) {
                    //             this.storage.set(id.toString(), dati).then(
                    //                 () => {
                    //                 }, (storageErr) => {
                    //                     GlobalDataService.log(2, 'Errore in local storage', storageErr);
                    //                 }
                    //             );
                    //             // this.storage.set(id.toString() + '_timestamp', dati['timestamp']);
                    //         }
                    //
                    //         this.loading[id] = false;
                    //         resolve(dati);
                    //     }, (rej) => {
                    //         GlobalDataService.log(2, 'Rejected', rej);
                    //
                    //         this.loading[id] = false;
                    //         if (rej.error) {
                    //             const errore = JSON.parse(rej.error);
                    //             const stato = rej.status;
                    //             const codice = errore.codice;
                    //
                    //             if (stato === 401 && codice === -2) {
                    //                 GlobalDataService.log(1, 'Token scaduto', null);
                    //
                    //                 let storedUsername = this.storage.get('username');
                    //                 let storedPassword = this.storage.get('password');
                    //
                    //                 Promise.all([storedUsername, storedPassword]).then(
                    //                     data => {
                    //                         storedUsername = data[0];
                    //                         storedPassword = data[1];
                    //
                    //                         url = this.urlCheckToken;
                    //                         const bodyCheckToken = {
                    //                             token: this.token,
                    //                             username: storedUsername,
                    //                             password: storedPassword
                    //                         };
                    //
                    //                         // TODO: Gestire cambio password da ESSE3
                    //                         this.ngZone.run(() => {
                    //                             // Aggiorniamo la validità del token
                    //                             this.http.post(url, bodyCheckToken, {})
                    //                                 .then(response => {
                    //                                         GlobalDataService.log(0, url, response);
                    //                                         this.getJsonLista(id).then(
                    //                                             (res) => {
                    //                                                 GlobalDataService.log(0, 'getJsonLista', res);
                    //                                             }, (err) => {
                    //                                                 GlobalDataService.log(2, 'getJsonLista reject', err);
                    //                                             }
                    //                                         );
                    //                                     },
                    //                                     (err) => {
                    //                                         GlobalDataService.log(2, url, err);
                    //                                     });
                    //                         });
                    //                     }, (err) => {
                    //                         GlobalDataService.log(2, 'Credenziali non accessibili', err);
                    //                     });
                    //
                    //             } else {
                    //                 this.toastCtrl.create({
                    //                     message: errore.msg,
                    //                     duration: 3000
                    //                 }).then(
                    //                     (toast) => { toast.present(); },
                    //                     (err) => { GlobalDataService.log(2, 'Toast fallito', err); });
                    //             }
                    //         }
                    //
                    //     })
                    //     .catch(exception => {
                    //         this.loading[id] = false;
                    //         GlobalDataService.log(2, 'Catch', exception);
                    //     });
                }, function (err) {
                    // Nessun uuid - probabile versione web
                    _this.storage.set('uuid', 'uuid').then(function () { }, function (storageErr) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                    });
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Nessun uuid', err);
                    _this.loading[id] = false;
                    reject('Riprovare più tardi');
                });
            }, function (err) {
                // Nessun token
                _this.loading[id] = false;
                _this.toastCtrl.create({
                    message: 'Nessun dato presente nello storage locale.',
                    duration: 3000
                }).then(function (toast) { toast.present(); }, function (errToast) { _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Toast fallito', errToast); });
                reject(err);
            });
        });
    };
    SyncService.prototype.salvaJSon = function (id, json) {
        this.storage.set(id.toString(), JSON.stringify(json)).then(function () {
        }, function (storageErr) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
        });
    };
    SyncService.prototype.aggiornaTokenNotifiche = function (tokenNotifiche) {
        var _this = this;
        this.storage.set('tokenNotifiche', tokenNotifiche).then(function () {
        }, function (storageErr) {
            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
        });
        this.storage.get('token').then(function (val) {
            if (val == null) {
                return;
            }
            _this.token = val;
            var url = _this.getUrlAggiornaTokenNotifiche();
            var body = {
                token: _this.token,
                tokenNotifiche: tokenNotifiche
            };
            _this.services.post(url, body).then(function () {
                // SALVA LE PREFERENZE IN LOCALE
                _this.notificheService.aggiornaSottoscrizioni();
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Il token non può essere aggiornato ancora.', err);
            });
            //
            // this.http.post(url, body, {}).then(
            //     (response) => {
            //         // SALVA LE PREFERENZE IN LOCALE
            //         GlobalDataService.log(0, url, response);
            //         this.notificheService.aggiornaSottoscrizioni();
            //     },
            //     (err) => {
            //         GlobalDataService.log(2, 'Il token non può essere aggiornato ancora.', err);
            //     });
        }, function (err) {
            // Non aggiorniamo
            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Il token non è presente', err);
        });
    };
    SyncService.prototype.aggiornaDeviceInfo = function (tokenNotifichePar) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.platform.is('ios') || (_this.platform.is('android'))) {
                var url_1 = _this.getUrlAggiornaDeviceInfo();
                _this.storage.get('lastDeviceUpdate').then(function (data) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Ultima verifica', data);
                    var oggi = new Date();
                    var tsOggi = oggi.getTime();
                    var ultimoCheck = new Date(data);
                    var oreTrascorse = _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].differenzaOre(oggi, ultimoCheck);
                    // let minutiTrascorsi = GlobalDataService.differenzaMinuti(oggi, ultimoCheck);
                    if ((data != null) && (oreTrascorse < 24)) {
                        resolve(true);
                        return;
                    }
                    _this.storage.get('token').then(function (token) {
                        _this.token = token;
                        _this.appVersion.getVersionNumber().then(function (versionNr) {
                            var appVersion = versionNr;
                            _this.storage.set('appVersion', appVersion).then(function () {
                            }, function (storageErr) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                            });
                            _this.storage.set('uuid', _this.device.uuid).then(function () {
                            }, function (storageErr) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                            });
                            // this.aggiornaTokenNotifiche(this.tokenNotifiche);
                            var body = {
                                token: _this.token,
                                appVersion: appVersion,
                                cordovaVersion: _this.device.cordova,
                                model: _this.device.model,
                                platform: _this.device.platform,
                                osVersion: _this.device.version,
                                manufacturer: _this.device.manufacturer,
                                isVirtual: _this.device.isVirtual,
                                uuid: _this.device.uuid,
                                tokenNotifiche: tokenNotifichePar
                            };
                            _this.services.post(url_1, body).then(function (response) {
                                _this.storage.set('lastDeviceUpdate', tsOggi).then(function () {
                                }, function (storageErr) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                                });
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'I dati del device sono stati aggiornati.', response);
                                resolve(response);
                            }, function (err) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'I dati del device  non possono essere aggiornati.', err);
                                reject(err);
                            });
                        }, function (err) {
                            // Versione web?
                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Plugin versione non risponde.', err);
                        });
                    });
                }, function () {
                    // Se non abbiamo mai salvato l'ultimo check, inizializziamolo
                    _this.storage.set('lastDeviceUpdate', new Date(75, 2, 20).getTime()).then(function () {
                    }, function (storageErr) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                    });
                });
            }
            else {
                resolve(false);
            }
        });
    };
    SyncService.prototype.controllaMessaggi = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var urlControllaMessaggi = _this.getUrlControllaMessaggi();
            _this.storage.get('token').then(function (val) {
                _this.token = val;
                var body = {
                    token: _this.token
                };
                _this.services.post(urlControllaMessaggi, body).then(function (response) {
                    if (response) {
                        var messaggio_1 = response.toString();
                        if ((messaggio_1 === '') || (messaggio_1 === 'NULL')) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Nessun nuovo messaggio', null);
                            resolve('');
                            return;
                        }
                        else {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Messaggio ricevuto', messaggio_1);
                            var urlReimpostaMessaggi_1 = _this.getUrlReimpostaMessaggi();
                            _this.services.post(urlReimpostaMessaggi_1, body).then(function () {
                                // const testo = String.fromCodePoint(0x1F354);
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'Messaggi reimpostati', null);
                                _this.alertCtrl.create({
                                    header: 'Messaggio da Unimol',
                                    subHeader: messaggio_1,
                                    buttons: ['Chiudi']
                                }).then(function (alert) { alert.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, urlReimpostaMessaggi_1, err); });
                                resolve(response);
                            }, function (err) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Non è possibile reimpostare i messaggi ora', err);
                            });
                        }
                    }
                }, function (err) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Non è possibile reimpostare i messaggi ora', err);
                });
            }, function (err) {
                // Non riesco a leggere i messaggio. Problemi di connessione?
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Non riesco a leggere i messaggio. Problemi di connessione?', err);
                reject();
            });
        });
    };
    SyncService.prototype.aggiornaInformazioni = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.storage.get('aggiorna').then(function (value) {
                if (value != null) {
                    resolve(value);
                }
                else {
                    resolve('mai');
                }
            }, function () {
                resolve('mai');
            });
        });
    };
    SyncService.prototype.controllaVersione = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.platform.is('ios') || (_this.platform.is('android'))) {
                _this.storage.get('aggiornamentiApp').then(function (aggiornamentiApp) {
                    if ((aggiornamentiApp != null) && (aggiornamentiApp === false)) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'Non verifico Aggiornamento (disabilitato)', null);
                        resolve(true);
                    }
                    else {
                        // verifichiamo la presenza di un aggiornamento solo se non lo abbiamo già fatto nelle ultime 24 ore
                        _this.storage.get('lastCheck').then(function (lastCheck) {
                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'Ultima verifica: ', lastCheck);
                            var oggi = new Date();
                            var tsOggi = oggi.getTime();
                            var ultimoCheck = new Date(lastCheck);
                            var oreTrascorse = _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].differenzaOre(oggi, ultimoCheck);
                            // let minutiTrascorsi = this.differenzaMinuti(oggi, ultimoCheck);
                            if ((lastCheck != null) && (oreTrascorse < 24)) {
                                resolve(true);
                                return;
                            }
                            var urlUltimaVersione = _this.getUrlUltimaVersione();
                            var body = {
                                platform: _this.device.platform
                            };
                            // const header = {
                            //     headers: { 'Content-Type': 'application/json' }
                            // };
                            // this.http.setHeader('*', 'Content-Type', 'application/json');
                            // this.http.setDataSerializer('json');
                            _this.services.post(urlUltimaVersione, body)
                                .then(function (ultimaVersione) {
                                if (ultimaVersione != null) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'Ultima versione', ultimaVersione);
                                    _this.appVersion.getVersionNumber().then(function (appVersion) {
                                        _this.storage.set('lastCheck', tsOggi).then(function () {
                                        }, function (storageErr) {
                                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                                        });
                                        _this.storage.set('appVersion', appVersion).then(function () {
                                        }, function (storageErr) {
                                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                                        });
                                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'La tua version (' + appVersion +
                                            '). L\'ultima versione disponibile (' + ultimaVersione + ')', null);
                                        if (appVersion.toString() < ultimaVersione) {
                                            var messaggio = 'Questa versione dell\'App Studenti Unimol (' +
                                                appVersion + ') non è aggiornata. <br \>L\'ultima versione disponibile (' +
                                                ultimaVersione + ') introduce nuove funzionalità e corregge i bug presenti';
                                            var target = void 0;
                                            switch (_this.device.platform) {
                                                case 'iOS': {
                                                    target = 'studenti-unimol/id1275911366?mt=8';
                                                    break;
                                                }
                                                case 'Android': {
                                                    target = 'it.unimol.app.studenti';
                                                    break;
                                                }
                                            }
                                            if (target != null) {
                                                _this.alertCtrl.create({
                                                    header: 'Aggiornamento disponibile',
                                                    subHeader: messaggio,
                                                    buttons: [
                                                        {
                                                            text: 'Non ora',
                                                            role: 'cancel',
                                                            handler: function () {
                                                            }
                                                        },
                                                        {
                                                            text: 'Vai allo Store',
                                                            handler: function () {
                                                                //// this.market.open(target);
                                                            }
                                                        }
                                                    ]
                                                }).then(function (alert) {
                                                    alert.present();
                                                }, function (err) {
                                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Alert fallito', err);
                                                });
                                            }
                                            else {
                                                _this.alertCtrl.create({
                                                    header: 'Aggiornamento disponibile',
                                                    subHeader: messaggio,
                                                    buttons: ['Chiudi']
                                                }).then(function (alert) {
                                                    alert.present();
                                                }, function (err) {
                                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Alert fallito', err);
                                                });
                                            }
                                            resolve(true);
                                        }
                                    }, function (err) {
                                        // Non è possibile verificare la versione attuale. Probabile versione web
                                        reject(err);
                                    });
                                }
                                else {
                                    _this.storage.set('lastCheck', new Date(75, 2, 20).getTime()).then(function () {
                                    }, function (storageErr) {
                                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                                    });
                                }
                            }, function (err) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Rinvio il controllo della versione', err);
                                _this.storage.set('lastCheck', new Date(75, 2, 20).getTime()).then(function () {
                                }, function (storageErr) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                                });
                            })
                                .catch(function (error) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Rinvio il controllo della versione', error);
                                _this.storage.set('lastCheck', new Date(75, 2, 20).getTime()).then(function () {
                                }, function (storageErr) {
                                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                                });
                            });
                        }, function (err) {
                            // Se non abbiamo mai salvato l'ultimo check, inizializziamolo ad oggi
                            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Inizializziamo lastCheck', err);
                            _this.storage.set('lastCheck', new Date(75, 2, 20).getTime()).then(function () {
                            }, function (storageErr) {
                                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                            });
                        });
                    }
                }, function (err) {
                    // aggiornamentiApp non inizializzato
                    _this.storage.set('aggiornamentiApp', true).then(function () {
                    }, function (storageErr) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore in local storage', storageErr);
                    });
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'aggiornamentiApp non inizializzato', err);
                });
            }
            else {
                // Non c'è bisogno di controlli perchè la piattaforma non è supportata
                resolve();
            }
        });
    };
    // Tenta di caricare i dati prendendoli dallo storage locale
    // Se non sono disponibili dati in locale, prova a caricarli da remoto
    SyncService.prototype.oreDaUltimoAggiornamento = function (idServizio) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.storage.get(idServizio.toString()).then(function (val) {
                // Se non ci sono dati in locale forziamo l'aggiornamento remoto
                if (val != null) {
                    var oggi = new Date();
                    var ultimoCheck = new Date(val['timestamp'] * 1000);
                    var oreTrascorse = _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].differenzaOre(oggi, ultimoCheck);
                    resolve(oreTrascorse);
                }
                else {
                    resolve(999);
                }
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Non posso caricare i dati del servizio ' + idServizio, err);
                reject();
            });
        });
    };
    SyncService.prototype.sottoscriviCalendario = function (codice, stato) {
        var _this = this;
        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Sottoscrivo ' + codice + ' con stato ' + stato, null);
        return new Promise(function (resolve, reject) {
            _this.storage.get('token').then(function (token) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(1, 'Token ' + token, null);
                _this.token = token;
                _this.storage.get('uuid').then(function (uuid) {
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'uuid: ' + uuid, null);
                    _this.uuid = uuid;
                    if (_this.uuid === undefined || _this.uuid == null) {
                        _this.uuid = 'uuid';
                    }
                    var body;
                    var url = _this.urlSottoscrizioneCalendario;
                    body = {
                        token: _this.token,
                        uuid: _this.uuid,
                        codice: codice,
                        stato: stato
                    };
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'url: ' + url, null);
                    _this.services.post(url, body).then(function (data) {
                        resolve(data);
                    }, function (err) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, url, err);
                        _this.toastCtrl.create({
                            message: 'Impossibile completare l\'operazione. Verificare la connessione ad Internet.',
                            duration: 3000
                        }).then(function (toast) { toast.present(); }, function (errToast) { _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore Toast', errToast); });
                        reject(err);
                    });
                }, function (err) {
                    // TO BE CHECKED!
                    _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore', err);
                });
            }, function (err) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(2, 'Errore', err);
            });
        });
    };
    SyncService.prototype.dataIsChanged = function (array1, array2) {
        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Data1: ', array1);
        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Data2: ', array2);
        if (array1 && array2) {
            if (array1.length !== array2.length) {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Lunghezza diversa: ' + array1.length + ' contro ' + array2.length, null);
                return true;
            }
            else {
                _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Confronto gli elementi degli array ', null);
                array1.every(function (value, index) {
                    if (value !== array2[index]) {
                        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, value + ' diverso da ' + array2[index], null);
                        return true;
                    }
                });
            }
        }
        else {
            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Solo uno nullo', null);
            if (array1 || array2) {
                return true;
            }
        }
        _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"].log(0, 'Identici o entrambi nulli', null);
        return false;
    };
    SyncService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _http_service__WEBPACK_IMPORTED_MODULE_8__["HttpService"],
            _ionic_native_device_ngx__WEBPACK_IMPORTED_MODULE_4__["Device"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_3__["AppVersion"],
            _notifiche_service__WEBPACK_IMPORTED_MODULE_7__["NotificheService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["LoadingController"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _global_data_service__WEBPACK_IMPORTED_MODULE_6__["GlobalDataService"]])
    ], SyncService);
    return SyncService;
}());



/***/ }),

/***/ "./src/app/services/toasts.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/toasts.service.ts ***!
  \********************************************/
/*! exports provided: ToastsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastsService", function() { return ToastsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _global_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./global-data.service */ "./src/app/services/global-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ToastsService = /** @class */ (function () {
    function ToastsService(toastCtrl, loadingCtrl) {
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
    }
    ToastsService.prototype.connessioneOk = function () {
        this.toastCtrl.create({
            message: 'Connessione Internet OK',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.connessioneOff = function () {
        this.toastCtrl.create({
            message: 'Connessione Internet assente',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.piattaformaNonSupportata = function () {
        this.toastCtrl.create({
            message: 'Il dispositivo non supporta questa funzionalità',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.fileNonScaricato = function () {
        this.toastCtrl.create({
            message: 'Il file non è presente sul dispositivo. Prova ad eliminarlo e scaricarlo nuovamente.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.downloadCompletatoConfirm = function () {
        this.toastCtrl.create({
            message: 'Documento salvato nella cartella Download del dispositivo',
            position: 'bottom',
            showCloseButton: true,
            closeButtonText: 'Ok'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.downloadCompletato = function () {
        this.toastCtrl.create({
            message: 'Download completato',
            position: 'bottom',
            duration: 3000
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    // Usare present() per visualizzare e dismiss() per chiuderlo
    ToastsService.prototype.caricamentoDownload = function () {
        return this.loadingCtrl.create({
            spinner: 'crescent',
            message: 'Download in corso...'
        });
    };
    // Usare present() per visualizzare e dismiss() per chiuderlo
    ToastsService.prototype.caricamentoGenerico = function () {
        return this.loadingCtrl.create({
            spinner: 'crescent',
            message: 'Caricamento...'
        });
    };
    ToastsService.prototype.spinnerEliminazione = function () {
        return this.loadingCtrl.create({
            spinner: 'crescent',
            message: 'Eliminazione in corso...'
        });
    };
    ToastsService.prototype.successoEliminazione = function () {
        this.toastCtrl.create({
            message: 'File eliminato correttamente.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.fallimentoEliminazione = function () {
        this.toastCtrl.create({
            message: 'Il file non esiste.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.nonSupportato = function () {
        this.toastCtrl.create({
            message: 'L\'accesso ai file non è supportata su questo dispositivo.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.permessoNonAttivo = function () {
        this.toastCtrl.create({
            message: 'L\'accesso ai file è stato negato per l\'App Studenti. Controlla le impostazioni del dispositivo.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.erroreDownload = function () {
        this.toastCtrl.create({
            message: 'Si è verificato un errore durante il download del file. Verificare la connessione e riprovare.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.fileNonSupportato = function () {
        this.toastCtrl.create({
            message: 'Non è presente un\'applicazione per aprire questo tipo di file.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService.prototype.erroreAperturaFile = function () {
        this.toastCtrl.create({
            message: 'Si è verificato un errore durante l\'apertura del file.',
            duration: 3000,
            position: 'bottom'
        }).then(function (toast) { toast.present(); }, function (err) { _global_data_service__WEBPACK_IMPORTED_MODULE_2__["GlobalDataService"].log(2, 'Toast fallito!', err); });
    };
    ToastsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["LoadingController"]])
    ], ToastsService);
    return ToastsService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/antonio_mastropaolo/Desktop/modificheAPP/studenti-master/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map